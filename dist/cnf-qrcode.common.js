!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("isarray"),require("dijkstrajs"),require("pngjs")):"function"==typeof define&&define.amd?define(["exports","isarray","dijkstrajs","pngjs"],r):(t=t||self,function(){var e=t["cnf-qrcode"],n=t["cnf-qrcode"]={};r(n,t.isArray$1,t.dijkstra,t.pngjs),n.noConflict=function(){return t["cnf-qrcode"]=e,n}}())}(this,function(t,r,e,n){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r,e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var o=Math.ceil,i=Math.floor,u=function(t){return isNaN(t=+t)?0:(t>0?i:o)(t)},a=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t};function f(t,r){return t(r={exports:{}},r.exports),r.exports}var s=f(function(t){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)}),c=f(function(t){var r=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)}),h=(c.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),l=function(t,r,e){if(h(t),void 0===r)return t;switch(e){case 1:return function(e){return t.call(r,e)};case 2:return function(e,n){return t.call(r,e,n)};case 3:return function(e,n,o){return t.call(r,e,n,o)}}return function(){return t.apply(r,arguments)}},p=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},d=function(t){try{return!!t()}catch(t){return!0}},v=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),y=s.document,w=p(y)&&p(y.createElement),m=function(t){return w?y.createElement(t):{}},b=!v&&!d(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a}),E=Object.defineProperty,_={f:v?Object.defineProperty:function(t,r,e){if(g(t),r=function(t,r){if(!p(t))return t;var e,n;if(r&&"function"==typeof(e=t.toString)&&!p(n=e.call(t)))return n;if("function"==typeof(e=t.valueOf)&&!p(n=e.call(t)))return n;if(!r&&"function"==typeof(e=t.toString)&&!p(n=e.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(r,!0),g(e),b)try{return E(t,r,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[r]=e.value),t}},A=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}},P=v?function(t,r,e){return _.f(t,r,A(1,e))}:function(t,r,e){return t[r]=e,t},R={}.hasOwnProperty,T=function(t,r){return R.call(t,r)},S=function(t,r,e){var n,o,i,u=t&S.F,a=t&S.G,f=t&S.S,h=t&S.P,p=t&S.B,g=t&S.W,d=a?c:c[r]||(c[r]={}),v=d.prototype,y=a?s:f?s[r]:(s[r]||{}).prototype;for(n in a&&(e=r),e)(o=!u&&y&&void 0!==y[n])&&T(d,n)||(i=o?y[n]:e[n],d[n]=a&&"function"!=typeof y[n]?e[n]:p&&o?l(i,s):g&&y[n]==i?function(t){var r=function(r,e,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,e)}return new t(r,e,n)}return t.apply(this,arguments)};return r.prototype=t.prototype,r}(i):h&&"function"==typeof i?l(Function.call,i):i,h&&((d.virtual||(d.virtual={}))[n]=i,t&S.R&&v&&!v[n]&&P(v,n,i)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128;var B,L=S,M=P,O={},x={}.toString,I=function(t){return x.call(t).slice(8,-1)},C=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==I(t)?t.split(""):Object(t)},j=function(t){return C(a(t))},U=Math.min,N=function(t){return t>0?U(u(t),9007199254740991):0},k=Math.max,D=Math.min,F=f(function(t){var r=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:c.version,mode:"pure",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),Y=0,z=Math.random(),W=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++Y+z).toString(36))},H=F("keys"),q=function(t){return H[t]||(H[t]=W(t))},V=(B=!1,function(t,r,e){var n,o=j(t),i=N(o.length),a=function(t,r){return(t=u(t))<0?k(t+r,0):D(t,r)}(e,i);if(B&&r!=r){for(;i>a;)if((n=o[a++])!=n)return!0}else for(;i>a;a++)if((B||a in o)&&o[a]===r)return B||a||0;return!B&&-1}),G=q("IE_PROTO"),J="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Q=Object.keys||function(t){return function(t,r){var e,n=j(t),o=0,i=[];for(e in n)e!=G&&T(n,e)&&i.push(e);for(;r.length>o;)T(n,e=r[o++])&&(~V(i,e)||i.push(e));return i}(t,J)},$=v?Object.defineProperties:function(t,r){g(t);for(var e,n=Q(r),o=n.length,i=0;o>i;)_.f(t,e=n[i++],r[e]);return t},K=s.document,Z=K&&K.documentElement,X=q("IE_PROTO"),tt=function(){},rt=function(){var t,r=m("iframe"),e=J.length;for(r.style.display="none",Z.appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),rt=t.F;e--;)delete rt.prototype[J[e]];return rt()},et=Object.create||function(t,r){var e;return null!==t?(tt.prototype=g(t),e=new tt,tt.prototype=null,e[X]=t):e=rt(),void 0===r?e:$(e,r)},nt=f(function(t){var r=F("wks"),e=s.Symbol,n="function"==typeof e;(t.exports=function(t){return r[t]||(r[t]=n&&e[t]||(n?e:W)("Symbol."+t))}).store=r}),ot=_.f,it=nt("toStringTag"),ut=function(t,r,e){t&&!T(t=e?t:t.prototype,it)&&ot(t,it,{configurable:!0,value:r})},at={};P(at,nt("iterator"),function(){return this});var ft,st=function(t,r,e){t.prototype=et(at,{next:A(1,e)}),ut(t,r+" Iterator")},ct=function(t){return Object(a(t))},ht=q("IE_PROTO"),lt=Object.prototype,pt=Object.getPrototypeOf||function(t){return t=ct(t),T(t,ht)?t[ht]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?lt:null},gt=nt("iterator"),dt=!([].keys&&"next"in[].keys()),vt=function(){return this},yt=function(t,r,e,n,o,i,u){st(e,r,n);var a,f,s,c=function(t){if(!dt&&t in g)return g[t];switch(t){case"keys":case"values":return function(){return new e(this,t)}}return function(){return new e(this,t)}},h=r+" Iterator",l="values"==o,p=!1,g=t.prototype,d=g[gt]||g["@@iterator"]||o&&g[o],v=d||c(o),y=o?l?c("entries"):v:void 0,w="Array"==r&&g.entries||d;if(w&&(s=pt(w.call(new t)))!==Object.prototype&&s.next&&ut(s,h,!0),l&&d&&"values"!==d.name&&(p=!0,v=function(){return d.call(this)}),u&&(dt||p||!g[gt])&&P(g,gt,v),O[r]=v,O[h]=vt,o)if(a={values:l?v:c("values"),keys:i?v:c("keys"),entries:y},u)for(f in a)f in g||M(g,f,a[f]);else L(L.P+L.F*(dt||p),r,a);return a},wt=(ft=!0,function(t,r){var e,n,o=String(a(t)),i=u(r),f=o.length;return i<0||i>=f?ft?"":void 0:(e=o.charCodeAt(i))<55296||e>56319||i+1===f||(n=o.charCodeAt(i+1))<56320||n>57343?ft?o.charAt(i):e:ft?o.slice(i,i+2):n-56320+(e-55296<<10)+65536});yt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,r=this._t,e=this._i;return e>=r.length?{value:void 0,done:!0}:(t=wt(r,e),this._i+=t.length,{value:t,done:!1})});var mt=function(t,r){return{value:r,done:!!t}};yt(Array,"Array",function(t,r){this._t=j(t),this._i=0,this._k=r},function(){var t=this._t,r=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,mt(1)):mt(0,"keys"==r?e:"values"==r?t[e]:[e,t[e]])},"values");O.Arguments=O.Array;for(var bt=nt("toStringTag"),Et="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),_t=0;_t<Et.length;_t++){var At=Et[_t],Pt=s[At],Rt=Pt&&Pt.prototype;Rt&&!Rt[bt]&&P(Rt,bt,At),O[At]=O.Array}var Tt,St,Bt,Lt=nt("toStringTag"),Mt="Arguments"==I(function(){return arguments}()),Ot=function(t){var r,e,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),Lt))?e:Mt?I(r):"Object"==(n=I(r))&&"function"==typeof r.callee?"Arguments":n},xt=function(t,r,e,n){try{return n?r(g(e)[0],e[1]):r(e)}catch(r){var o=t.return;throw void 0!==o&&g(o.call(t)),r}},It=nt("iterator"),Ct=Array.prototype,jt=nt("iterator"),Ut=c.getIteratorMethod=function(t){if(null!=t)return t[jt]||t["@@iterator"]||O[Ot(t)]},Nt=f(function(t){var r={},e={},n=t.exports=function(t,n,o,i,u){var a,f,s,c,h,p=u?function(){return t}:Ut(t),d=l(o,i,n?2:1),v=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(void 0===(h=p)||O.Array!==h&&Ct[It]!==h){for(s=p.call(t);!(f=s.next()).done;)if((c=xt(s,d,f.value,n))===r||c===e)return c}else for(a=N(t.length);a>v;v++)if((c=n?d(g(f=t[v])[0],f[1]):d(t[v]))===r||c===e)return c};n.BREAK=r,n.RETURN=e}),kt=nt("species"),Dt=function(t,r){var e,n=g(t).constructor;return void 0===n||null==(e=g(n)[kt])?r:h(e)},Ft=function(t,r,e){var n=void 0===e;switch(r.length){case 0:return n?t():t.call(e);case 1:return n?t(r[0]):t.call(e,r[0]);case 2:return n?t(r[0],r[1]):t.call(e,r[0],r[1]);case 3:return n?t(r[0],r[1],r[2]):t.call(e,r[0],r[1],r[2]);case 4:return n?t(r[0],r[1],r[2],r[3]):t.call(e,r[0],r[1],r[2],r[3])}return t.apply(e,r)},Yt=s.process,zt=s.setImmediate,Wt=s.clearImmediate,Ht=s.MessageChannel,qt=s.Dispatch,Vt=0,Gt={},Jt=function(){var t=+this;if(Gt.hasOwnProperty(t)){var r=Gt[t];delete Gt[t],r()}},Qt=function(t){Jt.call(t.data)};zt&&Wt||(zt=function(t){for(var r=[],e=1;arguments.length>e;)r.push(arguments[e++]);return Gt[++Vt]=function(){Ft("function"==typeof t?t:Function(t),r)},Tt(Vt),Vt},Wt=function(t){delete Gt[t]},"process"==I(Yt)?Tt=function(t){Yt.nextTick(l(Jt,t,1))}:qt&&qt.now?Tt=function(t){qt.now(l(Jt,t,1))}:Ht?(Bt=(St=new Ht).port2,St.port1.onmessage=Qt,Tt=l(Bt.postMessage,Bt,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(Tt=function(t){s.postMessage(t+"","*")},s.addEventListener("message",Qt,!1)):Tt="onreadystatechange"in m("script")?function(t){Z.appendChild(m("script")).onreadystatechange=function(){Z.removeChild(this),Jt.call(t)}}:function(t){setTimeout(l(Jt,t,1),0)});var $t={set:zt,clear:Wt},Kt=$t.set,Zt=s.MutationObserver||s.WebKitMutationObserver,Xt=s.process,tr=s.Promise,rr="process"==I(Xt);function er(t){var r,e;this.promise=new t(function(t,n){if(void 0!==r||void 0!==e)throw TypeError("Bad Promise constructor");r=t,e=n}),this.resolve=h(r),this.reject=h(e)}var nr={f:function(t){return new er(t)}},or=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},ir=s.navigator,ur=ir&&ir.userAgent||"",ar=function(t,r){if(g(t),p(r)&&r.constructor===t)return r;var e=nr.f(t);return(0,e.resolve)(r),e.promise},fr=nt("species"),sr=nt("iterator"),cr=!1;try{var hr=[7][sr]();hr.return=function(){cr=!0},Array.from(hr,function(){throw 2})}catch(t){}var lr,pr,gr,dr,vr,yr,wr=$t.set,mr=function(){var t,r,e,n=function(){var n,o;for(rr&&(n=Xt.domain)&&n.exit();t;){o=t.fn,t=t.next;try{o()}catch(n){throw t?e():r=void 0,n}}r=void 0,n&&n.enter()};if(rr)e=function(){Xt.nextTick(n)};else if(!Zt||s.navigator&&s.navigator.standalone)if(tr&&tr.resolve){var o=tr.resolve(void 0);e=function(){o.then(n)}}else e=function(){Kt.call(s,n)};else{var i=!0,u=document.createTextNode("");new Zt(n).observe(u,{characterData:!0}),e=function(){u.data=i=!i}}return function(n){var o={fn:n,next:void 0};r&&(r.next=o),t||(t=o,e()),r=o}}(),br=s.TypeError,Er=s.process,_r=Er&&Er.versions,Ar=_r&&_r.v8||"",Pr=s.Promise,Rr="process"==Ot(Er),Tr=function(){},Sr=pr=nr.f,Br=!!function(){try{var t=Pr.resolve(1),r=(t.constructor={})[nt("species")]=function(t){t(Tr,Tr)};return(Rr||"function"==typeof PromiseRejectionEvent)&&t.then(Tr)instanceof r&&0!==Ar.indexOf("6.6")&&-1===ur.indexOf("Chrome/66")}catch(t){}}(),Lr=function(t){var r;return!(!p(t)||"function"!=typeof(r=t.then))&&r},Mr=function(t,r){if(!t._n){t._n=!0;var e=t._c;mr(function(){for(var n=t._v,o=1==t._s,i=0,u=function(r){var e,i,u,a=o?r.ok:r.fail,f=r.resolve,s=r.reject,c=r.domain;try{a?(o||(2==t._h&&Ir(t),t._h=1),!0===a?e=n:(c&&c.enter(),e=a(n),c&&(c.exit(),u=!0)),e===r.promise?s(br("Promise-chain cycle")):(i=Lr(e))?i.call(e,f,s):f(e)):s(n)}catch(t){c&&!u&&c.exit(),s(t)}};e.length>i;)u(e[i++]);t._c=[],t._n=!1,r&&!t._h&&Or(t)})}},Or=function(t){wr.call(s,function(){var r,e,n,o=t._v,i=xr(t);if(i&&(r=or(function(){Rr?Er.emit("unhandledRejection",o,t):(e=s.onunhandledrejection)?e({promise:t,reason:o}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",o)}),t._h=Rr||xr(t)?2:1),t._a=void 0,i&&r.e)throw r.v})},xr=function(t){return 1!==t._h&&0===(t._a||t._c).length},Ir=function(t){wr.call(s,function(){var r;Rr?Er.emit("rejectionHandled",t):(r=s.onrejectionhandled)&&r({promise:t,reason:t._v})})},Cr=function(t){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=t,r._s=2,r._a||(r._a=r._c.slice()),Mr(r,!0))},jr=function(t){var r,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw br("Promise can't be resolved itself");(r=Lr(t))?mr(function(){var n={_w:e,_d:!1};try{r.call(t,l(jr,n,1),l(Cr,n,1))}catch(t){Cr.call(n,t)}}):(e._v=t,e._s=1,Mr(e,!1))}catch(t){Cr.call({_w:e,_d:!1},t)}}};Br||(Pr=function(t){!function(t,r,e,n){if(!(t instanceof r)||void 0!==n&&n in t)throw TypeError(e+": incorrect invocation!")}(this,Pr,"Promise","_h"),h(t),lr.call(this);try{t(l(jr,this,1),l(Cr,this,1))}catch(t){Cr.call(this,t)}},(lr=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,r,e){for(var n in r)e&&t[n]?t[n]=r[n]:P(t,n,r[n]);return t}(Pr.prototype,{then:function(t,r){var e=Sr(Dt(this,Pr));return e.ok="function"!=typeof t||t,e.fail="function"==typeof r&&r,e.domain=Rr?Er.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&Mr(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),gr=function(){var t=new lr;this.promise=t,this.resolve=l(jr,t,1),this.reject=l(Cr,t,1)},nr.f=Sr=function(t){return t===Pr||t===dr?new gr(t):pr(t)}),L(L.G+L.W+L.F*!Br,{Promise:Pr}),ut(Pr,"Promise"),yr="function"==typeof c[vr="Promise"]?c[vr]:s[vr],v&&yr&&!yr[fr]&&_.f(yr,fr,{configurable:!0,get:function(){return this}}),dr=c.Promise,L(L.S+L.F*!Br,"Promise",{reject:function(t){var r=Sr(this);return(0,r.reject)(t),r.promise}}),L(L.S+!0*L.F,"Promise",{resolve:function(t){return ar(this===dr?Pr:this,t)}}),L(L.S+L.F*!(Br&&function(t,r){if(!r&&!cr)return!1;var e=!1;try{var n=[7],o=n[sr]();o.next=function(){return{done:e=!0}},n[sr]=function(){return o},t(n)}catch(t){}return e}(function(t){Pr.all(t).catch(Tr)})),"Promise",{all:function(t){var r=this,e=Sr(r),n=e.resolve,o=e.reject,i=or(function(){var e=[],i=0,u=1;Nt(t,!1,function(t){var a=i++,f=!1;e.push(void 0),u++,r.resolve(t).then(function(t){f||(f=!0,e[a]=t,--u||n(e))},o)}),--u||n(e)});return i.e&&o(i.v),e.promise},race:function(t){var r=this,e=Sr(r),n=e.reject,o=or(function(){Nt(t,!1,function(t){r.resolve(t).then(e.resolve,n)})});return o.e&&n(o.v),e.promise}}),L(L.P+L.R,"Promise",{finally:function(t){var r=Dt(this,c.Promise||s.Promise),e="function"==typeof t;return this.then(e?function(e){return ar(r,t()).then(function(){return e})}:t,e?function(e){return ar(r,t()).then(function(){throw e})}:t)}}),L(L.S,"Promise",{try:function(t){var r=nr.f(this),e=or(t);return(e.e?r.reject:r.resolve)(e.v),r.promise}});var Ur=c.Promise;var Nr="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},kr=[],Dr=[],Fr="undefined"!=typeof Uint8Array?Uint8Array:Array,Yr=!1;function zr(){Yr=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,e=t.length;r<e;++r)kr[r]=t[r],Dr[t.charCodeAt(r)]=r;Dr["-".charCodeAt(0)]=62,Dr["_".charCodeAt(0)]=63}function Wr(t,r,e){for(var n,o,i=[],u=r;u<e;u+=3)n=(t[u]<<16)+(t[u+1]<<8)+t[u+2],i.push(kr[(o=n)>>18&63]+kr[o>>12&63]+kr[o>>6&63]+kr[63&o]);return i.join("")}function Hr(t){var r;Yr||zr();for(var e=t.length,n=e%3,o="",i=[],u=0,a=e-n;u<a;u+=16383)i.push(Wr(t,u,u+16383>a?a:u+16383));return 1===n?(r=t[e-1],o+=kr[r>>2],o+=kr[r<<4&63],o+="=="):2===n&&(r=(t[e-2]<<8)+t[e-1],o+=kr[r>>10],o+=kr[r>>4&63],o+=kr[r<<2&63],o+="="),i.push(o),i.join("")}function qr(t,r,e,n,o){var i,u,a=8*o-n-1,f=(1<<a)-1,s=f>>1,c=-7,h=e?o-1:0,l=e?-1:1,p=t[r+h];for(h+=l,i=p&(1<<-c)-1,p>>=-c,c+=a;c>0;i=256*i+t[r+h],h+=l,c-=8);for(u=i&(1<<-c)-1,i>>=-c,c+=n;c>0;u=256*u+t[r+h],h+=l,c-=8);if(0===i)i=1-s;else{if(i===f)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,n),i-=s}return(p?-1:1)*u*Math.pow(2,i-n)}function Vr(t,r,e,n,o,i){var u,a,f,s=8*i-o-1,c=(1<<s)-1,h=c>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,g=n?1:-1,d=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(a=isNaN(r)?1:0,u=c):(u=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-u))<1&&(u--,f*=2),(r+=u+h>=1?l/f:l*Math.pow(2,1-h))*f>=2&&(u++,f/=2),u+h>=c?(a=0,u=c):u+h>=1?(a=(r*f-1)*Math.pow(2,o),u+=h):(a=r*Math.pow(2,h-1)*Math.pow(2,o),u=0));o>=8;t[e+p]=255&a,p+=g,a/=256,o-=8);for(u=u<<o|a,s+=o;s>0;t[e+p]=255&u,p+=g,u/=256,s-=8);t[e+p-g]|=128*d}var Gr={}.toString,Jr=Array.isArray||function(t){return"[object Array]"==Gr.call(t)};Zr.TYPED_ARRAY_SUPPORT=void 0===Nr.TYPED_ARRAY_SUPPORT||Nr.TYPED_ARRAY_SUPPORT;var Qr=$r();function $r(){return Zr.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Kr(t,r){if($r()<r)throw new RangeError("Invalid typed array length");return Zr.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=Zr.prototype:(null===t&&(t=new Zr(r)),t.length=r),t}function Zr(t,r,e){if(!(Zr.TYPED_ARRAY_SUPPORT||this instanceof Zr))return new Zr(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return re(this,t)}return Xr(this,t,r,e)}function Xr(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n);Zr.TYPED_ARRAY_SUPPORT?(t=r).__proto__=Zr.prototype:t=ee(t,r);return t}(t,r,e,n):"string"==typeof r?function(t,r,e){"string"==typeof e&&""!==e||(e="utf8");if(!Zr.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|ie(r,e),o=(t=Kr(t,n)).write(r,e);o!==n&&(t=t.slice(0,o));return t}(t,r,e):function(t,r){if(oe(r)){var e=0|ne(r.length);return 0===(t=Kr(t,e)).length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(n=r.length)!=n?Kr(t,0):ee(t,r);if("Buffer"===r.type&&Jr(r.data))return ee(t,r.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,r)}function te(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function re(t,r){if(te(r),t=Kr(t,r<0?0:0|ne(r)),!Zr.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function ee(t,r){var e=r.length<0?0:0|ne(r.length);t=Kr(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function ne(t){if(t>=$r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$r().toString(16)+" bytes");return 0|t}function oe(t){return!(null==t||!t._isBuffer)}function ie(t,r){if(oe(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return xe(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return Ie(t).length;default:if(n)return xe(t).length;r=(""+r).toLowerCase(),n=!0}}function ue(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return Ee(this,r,e);case"utf8":case"utf-8":return ye(this,r,e);case"ascii":return me(this,r,e);case"latin1":case"binary":return be(this,r,e);case"base64":return ve(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function ae(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function fe(t,r,e,n,o){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=o?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(o)return-1;e=t.length-1}else if(e<0){if(!o)return-1;e=0}if("string"==typeof r&&(r=Zr.from(r,n)),oe(r))return 0===r.length?-1:se(t,r,e,n,o);if("number"==typeof r)return r&=255,Zr.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):se(t,[r],e,n,o);throw new TypeError("val must be string, number or Buffer")}function se(t,r,e,n,o){var i,u=1,a=t.length,f=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;u=2,a/=2,f/=2,e/=2}function s(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(o){var c=-1;for(i=e;i<a;i++)if(s(t,i)===s(r,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===f)return c*u}else-1!==c&&(i-=i-c),c=-1}else for(e+f>a&&(e=a-f),i=e;i>=0;i--){for(var h=!0,l=0;l<f;l++)if(s(t,i+l)!==s(r,l)){h=!1;break}if(h)return i}return-1}function ce(t,r,e,n){e=Number(e)||0;var o=t.length-e;n?(n=Number(n))>o&&(n=o):n=o;var i=r.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var u=0;u<n;++u){var a=parseInt(r.substr(2*u,2),16);if(isNaN(a))return u;t[e+u]=a}return u}function he(t,r,e,n){return Ce(xe(r,t.length-e),t,e,n)}function le(t,r,e,n){return Ce(function(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(r),t,e,n)}function pe(t,r,e,n){return le(t,r,e,n)}function ge(t,r,e,n){return Ce(Ie(r),t,e,n)}function de(t,r,e,n){return Ce(function(t,r){for(var e,n,o,i=[],u=0;u<t.length&&!((r-=2)<0);++u)e=t.charCodeAt(u),n=e>>8,o=e%256,i.push(o),i.push(n);return i}(r,t.length-e),t,e,n)}function ve(t,r,e){return 0===r&&e===t.length?Hr(t):Hr(t.slice(r,e))}function ye(t,r,e){e=Math.min(t.length,e);for(var n=[],o=r;o<e;){var i,u,a,f,s=t[o],c=null,h=s>239?4:s>223?3:s>191?2:1;if(o+h<=e)switch(h){case 1:s<128&&(c=s);break;case 2:128==(192&(i=t[o+1]))&&(f=(31&s)<<6|63&i)>127&&(c=f);break;case 3:i=t[o+1],u=t[o+2],128==(192&i)&&128==(192&u)&&(f=(15&s)<<12|(63&i)<<6|63&u)>2047&&(f<55296||f>57343)&&(c=f);break;case 4:i=t[o+1],u=t[o+2],a=t[o+3],128==(192&i)&&128==(192&u)&&128==(192&a)&&(f=(15&s)<<18|(63&i)<<12|(63&u)<<6|63&a)>65535&&f<1114112&&(c=f)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=h}return function(t){var r=t.length;if(r<=we)return String.fromCharCode.apply(String,t);var e="",n=0;for(;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=we));return e}(n)}Zr.poolSize=8192,Zr._augment=function(t){return t.__proto__=Zr.prototype,t},Zr.from=function(t,r,e){return Xr(null,t,r,e)},Zr.TYPED_ARRAY_SUPPORT&&(Zr.prototype.__proto__=Uint8Array.prototype,Zr.__proto__=Uint8Array),Zr.alloc=function(t,r,e){return function(t,r,e,n){return te(r),r<=0?Kr(t,r):void 0!==e?"string"==typeof n?Kr(t,r).fill(e,n):Kr(t,r).fill(e):Kr(t,r)}(null,t,r,e)},Zr.allocUnsafe=function(t){return re(null,t)},Zr.allocUnsafeSlow=function(t){return re(null,t)},Zr.isBuffer=je,Zr.compare=function(t,r){if(!oe(t)||!oe(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,o=0,i=Math.min(e,n);o<i;++o)if(t[o]!==r[o]){e=t[o],n=r[o];break}return e<n?-1:n<e?1:0},Zr.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Zr.concat=function(t,r){if(!Jr(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Zr.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=Zr.allocUnsafe(r),o=0;for(e=0;e<t.length;++e){var i=t[e];if(!oe(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},Zr.byteLength=ie,Zr.prototype._isBuffer=!0,Zr.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)ae(this,r,r+1);return this},Zr.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)ae(this,r,r+3),ae(this,r+1,r+2);return this},Zr.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)ae(this,r,r+7),ae(this,r+1,r+6),ae(this,r+2,r+5),ae(this,r+3,r+4);return this},Zr.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?ye(this,0,t):ue.apply(this,arguments)},Zr.prototype.equals=function(t){if(!oe(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Zr.compare(this,t)},Zr.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Zr.prototype.compare=function(t,r,e,n,o){if(!oe(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),r<0||e>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&r>=e)return 0;if(n>=o)return-1;if(r>=e)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),u=(e>>>=0)-(r>>>=0),a=Math.min(i,u),f=this.slice(n,o),s=t.slice(r,e),c=0;c<a;++c)if(f[c]!==s[c]){i=f[c],u=s[c];break}return i<u?-1:u<i?1:0},Zr.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},Zr.prototype.indexOf=function(t,r,e){return fe(this,t,r,e,!0)},Zr.prototype.lastIndexOf=function(t,r,e){return fe(this,t,r,e,!1)},Zr.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var o=this.length-r;if((void 0===e||e>o)&&(e=o),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return ce(this,t,r,e);case"utf8":case"utf-8":return he(this,t,r,e);case"ascii":return le(this,t,r,e);case"latin1":case"binary":return pe(this,t,r,e);case"base64":return ge(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,t,r,e);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Zr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var we=4096;function me(t,r,e){var n="";e=Math.min(t.length,e);for(var o=r;o<e;++o)n+=String.fromCharCode(127&t[o]);return n}function be(t,r,e){var n="";e=Math.min(t.length,e);for(var o=r;o<e;++o)n+=String.fromCharCode(t[o]);return n}function Ee(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var o="",i=r;i<e;++i)o+=Oe(t[i]);return o}function _e(t,r,e){for(var n=t.slice(r,e),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function Ae(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function Pe(t,r,e,n,o,i){if(!oe(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>o||r<i)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function Re(t,r,e,n){r<0&&(r=65535+r+1);for(var o=0,i=Math.min(t.length-e,2);o<i;++o)t[e+o]=(r&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function Te(t,r,e,n){r<0&&(r=4294967295+r+1);for(var o=0,i=Math.min(t.length-e,4);o<i;++o)t[e+o]=r>>>8*(n?o:3-o)&255}function Se(t,r,e,n,o,i){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Be(t,r,e,n,o){return o||Se(t,0,e,4),Vr(t,r,e,n,23,4),e+4}function Le(t,r,e,n,o){return o||Se(t,0,e,8),Vr(t,r,e,n,52,8),e+8}Zr.prototype.slice=function(t,r){var e,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<t&&(r=t),Zr.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=Zr.prototype;else{var o=r-t;e=new Zr(o,void 0);for(var i=0;i<o;++i)e[i]=this[i+t]}return e},Zr.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||Ae(t,r,this.length);for(var n=this[t],o=1,i=0;++i<r&&(o*=256);)n+=this[t+i]*o;return n},Zr.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||Ae(t,r,this.length);for(var n=this[t+--r],o=1;r>0&&(o*=256);)n+=this[t+--r]*o;return n},Zr.prototype.readUInt8=function(t,r){return r||Ae(t,1,this.length),this[t]},Zr.prototype.readUInt16LE=function(t,r){return r||Ae(t,2,this.length),this[t]|this[t+1]<<8},Zr.prototype.readUInt16BE=function(t,r){return r||Ae(t,2,this.length),this[t]<<8|this[t+1]},Zr.prototype.readUInt32LE=function(t,r){return r||Ae(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Zr.prototype.readUInt32BE=function(t,r){return r||Ae(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Zr.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||Ae(t,r,this.length);for(var n=this[t],o=1,i=0;++i<r&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*r)),n},Zr.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||Ae(t,r,this.length);for(var n=r,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*r)),i},Zr.prototype.readInt8=function(t,r){return r||Ae(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Zr.prototype.readInt16LE=function(t,r){r||Ae(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},Zr.prototype.readInt16BE=function(t,r){r||Ae(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},Zr.prototype.readInt32LE=function(t,r){return r||Ae(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Zr.prototype.readInt32BE=function(t,r){return r||Ae(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Zr.prototype.readFloatLE=function(t,r){return r||Ae(t,4,this.length),qr(this,t,!0,23,4)},Zr.prototype.readFloatBE=function(t,r){return r||Ae(t,4,this.length),qr(this,t,!1,23,4)},Zr.prototype.readDoubleLE=function(t,r){return r||Ae(t,8,this.length),qr(this,t,!0,52,8)},Zr.prototype.readDoubleBE=function(t,r){return r||Ae(t,8,this.length),qr(this,t,!1,52,8)},Zr.prototype.writeUIntLE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||Pe(this,t,r,e,Math.pow(2,8*e)-1,0);var o=1,i=0;for(this[r]=255&t;++i<e&&(o*=256);)this[r+i]=t/o&255;return r+e},Zr.prototype.writeUIntBE=function(t,r,e,n){(t=+t,r|=0,e|=0,n)||Pe(this,t,r,e,Math.pow(2,8*e)-1,0);var o=e-1,i=1;for(this[r+o]=255&t;--o>=0&&(i*=256);)this[r+o]=t/i&255;return r+e},Zr.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,1,255,0),Zr.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},Zr.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,2,65535,0),Zr.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):Re(this,t,r,!0),r+2},Zr.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,2,65535,0),Zr.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):Re(this,t,r,!1),r+2},Zr.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,4,4294967295,0),Zr.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):Te(this,t,r,!0),r+4},Zr.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,4,4294967295,0),Zr.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):Te(this,t,r,!1),r+4},Zr.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var o=Math.pow(2,8*e-1);Pe(this,t,r,e,o-1,-o)}var i=0,u=1,a=0;for(this[r]=255&t;++i<e&&(u*=256);)t<0&&0===a&&0!==this[r+i-1]&&(a=1),this[r+i]=(t/u>>0)-a&255;return r+e},Zr.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var o=Math.pow(2,8*e-1);Pe(this,t,r,e,o-1,-o)}var i=e-1,u=1,a=0;for(this[r+i]=255&t;--i>=0&&(u*=256);)t<0&&0===a&&0!==this[r+i+1]&&(a=1),this[r+i]=(t/u>>0)-a&255;return r+e},Zr.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,1,127,-128),Zr.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},Zr.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,2,32767,-32768),Zr.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):Re(this,t,r,!0),r+2},Zr.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,2,32767,-32768),Zr.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):Re(this,t,r,!1),r+2},Zr.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,4,2147483647,-2147483648),Zr.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):Te(this,t,r,!0),r+4},Zr.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||Pe(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Zr.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):Te(this,t,r,!1),r+4},Zr.prototype.writeFloatLE=function(t,r,e){return Be(this,t,r,!0,e)},Zr.prototype.writeFloatBE=function(t,r,e){return Be(this,t,r,!1,e)},Zr.prototype.writeDoubleLE=function(t,r,e){return Le(this,t,r,!0,e)},Zr.prototype.writeDoubleBE=function(t,r,e){return Le(this,t,r,!1,e)},Zr.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var o,i=n-e;if(this===t&&e<r&&r<n)for(o=i-1;o>=0;--o)t[o+r]=this[o+e];else if(i<1e3||!Zr.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+r]=this[o+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+i),r);return i},Zr.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Zr.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;var i;if(r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(i=r;i<e;++i)this[i]=t;else{var u=oe(t)?t:xe(new Zr(t,n).toString()),a=u.length;for(i=0;i<e-r;++i)this[i+r]=u[i%a]}return this};var Me=/[^+\/0-9A-Za-z-_]/g;function Oe(t){return t<16?"0"+t.toString(16):t.toString(16)}function xe(t,r){var e;r=r||1/0;for(var n=t.length,o=null,i=[],u=0;u<n;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!o){if(e>56319){(r-=3)>-1&&i.push(239,191,189);continue}if(u+1===n){(r-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(r-=3)>-1&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&(r-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((r-=1)<0)break;i.push(e)}else if(e<2048){if((r-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function Ie(t){return function(t){var r,e,n,o,i,u;Yr||zr();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[a-2]?2:"="===t[a-1]?1:0,u=new Fr(3*a/4-i),n=i>0?a-4:a;var f=0;for(r=0,e=0;r<n;r+=4,e+=3)o=Dr[t.charCodeAt(r)]<<18|Dr[t.charCodeAt(r+1)]<<12|Dr[t.charCodeAt(r+2)]<<6|Dr[t.charCodeAt(r+3)],u[f++]=o>>16&255,u[f++]=o>>8&255,u[f++]=255&o;return 2===i?(o=Dr[t.charCodeAt(r)]<<2|Dr[t.charCodeAt(r+1)]>>4,u[f++]=255&o):1===i&&(o=Dr[t.charCodeAt(r)]<<10|Dr[t.charCodeAt(r+1)]<<4|Dr[t.charCodeAt(r+2)]>>2,u[f++]=o>>8&255,u[f++]=255&o),u}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Me,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Ce(t,r,e,n){for(var o=0;o<n&&!(o+e>=r.length||o>=t.length);++o)r[o+e]=t[o];return o}function je(t){return null!=t&&(!!t._isBuffer||Ue(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Ue(t.slice(0,0))}(t))}function Ue(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Ne,ke=Object.freeze({INSPECT_MAX_BYTES:50,kMaxLength:Qr,Buffer:Zr,SlowBuffer:function(t){return+t!=t&&(t=0),Zr.alloc(+t)},isBuffer:je}).Buffer,De=Object.freeze({default:ke,__moduleExports:ke}),Fe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Ye=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(1>t||40<t)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},ze=function(t){return Fe[t]},We=function(t){for(var r=0;0!==t;)r++,t>>>=1;return r},He=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');Ne=t},qe=function(){return void 0!==Ne},Ve={getSymbolSize:Ye,getSymbolTotalCodewords:ze,getBCHDigit:We,setToSJISFunction:He,isKanjiModeEnabled:qe,toSJIS:function(t){return Ne(t)}},Ge=f(function(t,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(t){return t&&void 0!==t.bit&&0<=t.bit&&4>t.bit},r.from=function(t,e){if(r.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: ".concat(t))}}(t)}catch(t){return e}}}),Je=(Ge.L,Ge.M);Ge.Q,Ge.H,Ge.isValid;function Qe(){this.buffer=[],this.length=0}function $e(t){if(!t||1>t)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new ke(t*t),this.data.fill(0),this.reservedBit=new ke(t*t),this.reservedBit.fill(0)}Qe.prototype={get:function(t){var r=Math.floor(t/8);return 1==(1&this.buffer[r]>>>7-t%8)},put:function(t,r){for(var e=0;e<r;e++)this.putBit(1==(1&t>>>r-e-1))},getLengthInBits:function(){return this.length},putBit:function(t){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},$e.prototype.set=function(t,r,e,n){var o=t*this.size+r;this.data[o]=e,n&&(this.reservedBit[o]=!0)},$e.prototype.get=function(t,r){return this.data[t*this.size+r]},$e.prototype.xor=function(t,r,e){this.data[t*this.size+r]^=e},$e.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]};var Ke=f(function(t,r){var e=Ve.getSymbolSize;r.getRowColCoords=function(t){if(1===t)return[];for(var r=Math.floor(t/7)+2,n=e(t),o=145===n?26:2*Math.ceil((n-13)/(2*r-2)),i=[n-7],u=1;u<r-1;u++)i[u]=i[u-1]-o;return i.push(6),i.reverse()},r.getPositions=function(t){for(var e=[],n=r.getRowColCoords(t),o=n.length,i=0;i<o;i++)for(var u=0;u<o;u++)(0!=i||0!=u)&&(0!=i||u!=o-1)&&(i!=o-1||0!=u)&&e.push([n[i],n[u]]);return e}}),Ze=(Ke.getRowColCoords,Ke.getPositions),Xe=Ve.getSymbolSize,tn=function(t){var r=Xe(t);return[[0,0],[r-7,0],[0,r-7]]};!function(t,r){var e=(c.Object||{})[t]||Object[t],n={};n[t]=r(e),L(L.S+L.F*d(function(){e(1)}),"Object",n)}("keys",function(){return function(t){return Q(ct(t))}});var rn=c.Object.keys,en="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff",nn="["+en+"]",on=RegExp("^"+nn+nn+"*"),un=RegExp(nn+nn+"*$"),an=function(t,r,e){var n={},o=d(function(){return!!en[t]()||"âÂ"!="âÂ"[t]()}),i=n[t]=o?r(fn):en[t];e&&(n[e]=i),L(L.P+L.F*o,"String",n)},fn=an.trim=function(t,r){return t=String(a(t)),1&r&&(t=t.replace(on,"")),2&r&&(t=t.replace(un,"")),t},sn=an,cn=s.parseInt,hn=sn.trim,ln=/^[-+]?0[xX]/,pn=8!==cn(en+"08")||22!==cn(en+"0x16")?function(t,r){var e=hn(String(t),3);return cn(e,r>>>0||(ln.test(e)?16:10))}:cn;L(L.G+L.F*(parseInt!=pn),{parseInt:pn});var gn=c.parseInt,dn={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},vn={N1:3,N2:3,N3:40,N4:10};function yn(t){return null!=(r=t)&&""!==r&&!isNaN(r)&&0<=r&&7>=r?gn(t,10):void 0;var r}function wn(t){for(var r=t.size,e=0,n=0,o=0,i=null,u=null,a=0;a<r;a++){n=o=0,i=u=null;for(var f,s=0;s<r;s++)(f=t.get(a,s))===i?n++:(5<=n&&(e+=vn.N1+(n-5)),i=f,n=1),(f=t.get(s,a))===u?o++:(5<=o&&(e+=vn.N1+(o-5)),u=f,o=1);5<=n&&(e+=vn.N1+(n-5)),5<=o&&(e+=vn.N1+(o-5))}return e}function mn(t){for(var r=t.size,e=0,n=0;n<r-1;n++)for(var o,i=0;i<r-1;i++)(4===(o=t.get(n,i)+t.get(n,i+1)+t.get(n+1,i)+t.get(n+1,i+1))||0===o)&&e++;return e*vn.N2}function bn(t){for(var r=t.size,e=0,n=0,o=0,i=0;i<r;i++){n=o=0;for(var u=0;u<r;u++)n=2047&n<<1|t.get(i,u),10<=u&&(1488===n||93===n)&&e++,o=2047&o<<1|t.get(u,i),10<=u&&(1488===o||93===o)&&e++}return e*vn.N3}function En(t){for(var r=0,e=t.data.length,n=0;n<e;n++)r+=t.data[n];return Math.abs(Math.ceil(100*r/e/5)-10)*vn.N4}function _n(t,r,e){switch(t){case dn.PATTERN000:return 0==(r+e)%2;case dn.PATTERN001:return 0==r%2;case dn.PATTERN010:return 0==e%3;case dn.PATTERN011:return 0==(r+e)%3;case dn.PATTERN100:return 0==(Math.floor(r/2)+Math.floor(e/3))%2;case dn.PATTERN101:return 0==r*e%2+r*e%3;case dn.PATTERN110:return 0==(r*e%2+r*e%3)%2;case dn.PATTERN111:return 0==(r*e%3+(r+e)%2)%2;default:throw new Error("bad maskPattern:".concat(t))}}function An(t,r){for(var e=r.size,n=0;n<e;n++)for(var o=0;o<e;o++)r.isReserved(o,n)||r.xor(o,n,_n(t,o,n))}var Pn,Rn,Tn=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Sn=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],Bn=function(t,r){return r===Ge.L?Tn[4*(t-1)+0]:r===Ge.M?Tn[4*(t-1)+1]:r===Ge.Q?Tn[4*(t-1)+2]:r===Ge.H?Tn[4*(t-1)+3]:void 0},Ln=function(t,r){return r===Ge.L?Sn[4*(t-1)+0]:r===Ge.M?Sn[4*(t-1)+1]:r===Ge.Q?Sn[4*(t-1)+2]:r===Ge.H?Sn[4*(t-1)+3]:void 0};ke.alloc?(Pn=ke.alloc(512),Rn=ke.alloc(256)):(Pn=new ke(512),Rn=new ke(256)),function(){for(var t=1,r=0;255>r;r++)Pn[r]=t,Rn[t]=r,256&(t<<=1)&&(t^=285);for(r=255;512>r;r++)Pn[r]=Pn[r-255]}();var Mn=function(t){return Pn[t]},On=function(t,r){return 0===t||0===r?0:Pn[Rn[t]+Rn[r]]};function xn(t,r){var e=new De(t.length+r.length-1);e.fill(0);for(var n=0;n<t.length;n++)for(var o=0;o<r.length;o++)e[n+o]^=On(t[n],r[o]);return e}function In(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}In.prototype.initialize=function(t){this.degree=t,this.genPoly=function(t){for(var r=new De([1]),e=0;e<t;e++)r=xn(r,[1,Mn(e)]);return r}(this.degree)},In.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var r=new De(this.degree);r.fill(0);var e=function(t,r){for(var e=new De(t);0<=e.length-r.length;){for(var n=e[0],o=0;o<r.length;o++)e[o]^=On(r[o],n);for(var i=0;i<e.length&&0===e[i];)i++;e=e.slice(i)}return e}((void 0)([t,r],t.length+this.degree),this.genPoly),n=this.degree-e.length;if(0<n){var o=new De(this.degree);return o.fill(0),e.copy(o,n),o}return e};var Cn=function(t){return!isNaN(t)&&1<=t&&40>=t},jn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";jn=jn.replace(/u/g,"\\u");var Un="(?:(?![A-Z0-9 $%*+\\-./:]|".concat(jn,")(?:.|[\r\n]))+"),Nn=new RegExp(jn,"g"),kn=/[^A-Z0-9 $%*+\-.\/:]+/g,Dn=new RegExp(Un,"g"),Fn=/[0-9]+/g,Yn=new RegExp("[A-Z $%*+\\-./:]+","g"),zn=new RegExp("^".concat(jn,"$")),Wn=/^[0-9]+$/,Hn=/^[A-Z0-9 $%*+\-.\/:]+$/;var qn={id:"Numeric",bit:1,ccBits:[10,12,14]},Vn={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},Gn={id:"Byte",bit:4,ccBits:[8,16,16]},Jn={id:"Kanji",bit:8,ccBits:[8,10,12]},Qn={bit:-1};function $n(t,r){if(!t.ccBits)throw new Error("Invalid mode: ".concat(t));if(!Cn(r))throw new Error("Invalid version: ".concat(r));return 1<=r&&10>r?t.ccBits[0]:27>r?t.ccBits[1]:t.ccBits[2]}function Kn(t){return r=t,Wn.test(r)?qn:function(t){return Hn.test(t)}(t)?Vn:function(t){return zn.test(t)}(t)?Jn:Gn;var r}function Zn(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")}function Xn(t){return t&&t.bit&&t.ccBits}function to(t,r){if(Xn(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return qn;case"alphanumeric":return Vn;case"kanji":return Jn;case"byte":return Gn;default:throw new Error("Unknown mode: ".concat(t))}}(t)}catch(t){return r}}var ro=Object.freeze({NUMERIC:qn,ALPHANUMERIC:Vn,BYTE:Gn,KANJI:Jn,MIXED:Qn,getCharCountIndicator:$n,getBestModeForData:Kn,toString:Zn,isValid:Xn,from:to}),eo=7973,no=We(eo);function oo(t,r){return $n(t,r)+4}function io(t,r){var e=0;return t.forEach(function(t){var n=oo(t.mode,r);e+=n+t.getBitsLength()}),e}function uo(t,r,e){if(!Cn(t))throw new Error("Invalid QR Code version");void 0===e&&(e=Gn);var n=8*(ze(t)-Ln(t,r));if(e===Qn)return n;var o=n-oo(e,t);switch(e){case qn:return Math.floor(o/10*3);case Vn:return Math.floor(o/11*2);case Jn:return Math.floor(o/13);case Gn:default:return Math.floor(o/8)}}function ao(t,e){var n,o=(void 0)(e,Je);if(r(t)){if(1<t.length)return function(t,r){for(var e=1;40>=e;e++)if(io(t,e)<=uo(e,r,Qn))return e}(t,o);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,r,e){for(var n=1;40>=n;n++)if(r<=uo(n,e,t))return n}(n.mode,n.getLength(),o)}var fo=Ve.getBCHDigit(1335),so=function(t,r){for(var e=t.bit<<3|r,n=e<<10;0<=Ve.getBCHDigit(n)-fo;)n^=1335<<Ve.getBCHDigit(n)-fo;return 21522^(e<<10|n)};function co(t){this.mode=qn,this.data=t.toString()}co.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},co.prototype.getLength=function(){return this.data.length},co.prototype.getBitsLength=function(){return co.getBitsLength(this.data.length)},co.prototype.write=function(t){var r,e,n;for(r=0;r+3<=this.data.length;r+=3)e=this.data.substr(r,3),n=gn(e,10),t.put(n,10);var o=this.data.length-r;0<o&&(e=this.data.substr(r),n=gn(e,10),t.put(n,3*o+1))};var ho=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function lo(t){this.mode=ro.ALPHANUMERIC,this.data=t}lo.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},lo.prototype.getLength=function(){return this.data.length},lo.prototype.getBitsLength=function(){return lo.getBitsLength(this.data.length)},lo.prototype.write=function(t){var r;for(r=0;r+2<=this.data.length;r+=2){var e=45*ho.indexOf(this.data[r]);e+=ho.indexOf(this.data[r+1]),t.put(e,11)}this.data.length%2&&t.put(ho.indexOf(this.data[r]),6)};var po=lo,go=Object.freeze({default:po,__moduleExports:po});function vo(t){this.mode=ro.BYTE,this.data=new ke(t)}vo.getBitsLength=function(t){return 8*t},vo.prototype.getLength=function(){return this.data.length},vo.prototype.getBitsLength=function(){return vo.getBitsLength(this.data.length)},vo.prototype.write=function(t){for(var r=0,e=this.data.length;r<e;r++)t.put(this.data[r],8)};var yo=vo,wo=Object.freeze({default:yo,__moduleExports:yo});function mo(t){this.mode=ro.KANJI,this.data=t}mo.getBitsLength=function(t){return 13*t},mo.prototype.getLength=function(){return this.data.length},mo.prototype.getBitsLength=function(){return mo.getBitsLength(this.data.length)},mo.prototype.write=function(t){var r;for(r=0;r<this.data.length;r++){var e=Ve.toSJIS(this.data[r]);if(33088<=e&&40956>=e)e-=33088;else{if(!(57408<=e&&60351>=e))throw new Error("Invalid SJIS character: ".concat(this.data[r],"\n")+"Make sure your charset is UTF-8");e-=49472}e=192*(255&e>>>8)+(255&e),t.put(e,13)}};var bo=mo,Eo=Object.freeze({default:bo,__moduleExports:bo});function _o(t){return unescape(encodeURIComponent(t)).length}function Ao(t,r,e){for(var n,o=[];null!==(n=t.exec(e));)o.push({data:n[0],index:n.index,mode:r,length:n[0].length});return o}function Po(t){var r,e,n=Ao(Fn,qn,t),o=Ao(Yn,Vn,t);return qe()?(r=Ao(Dn,Gn,t),e=Ao(Nn,Jn,t)):(r=Ao(kn,Gn,t),e=[]),n.concat(o,r,e).sort(function(t,r){return t.index-r.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function Ro(t,r){return r===qn?co.getBitsLength(t):r===Vn?(void 0)(t):r===Jn?(void 0)(t):r===Gn?(void 0)(t):void 0}function To(t,r){var e,n=Kn(t);if((e=to(r,n))!==Gn&&e.bit<n.bit)throw new Error('"'.concat(t,'"')+" cannot be encoded with mode ".concat(Zn(e),".\n Suggested mode is: ").concat(Zn(n)));return e!==Jn||qe()||(e=Gn),e===qn?new co(t):e===Vn?new go(t):e===Jn?new Eo(t):e===Gn?new wo(t):void 0}function So(t){return t.reduce(function(t,r){return"string"==typeof r?t.push(To(r,null)):r.data&&t.push(To(r.data,r.mode)),t},[])}function Bo(t,r){for(var n=function(t,r){for(var e={},n={start:{}},o=["start"],i=0;i<t.length;i++){for(var u=t[i],a=[],f=0;f<u.length;f++){var s=u[f],c="".concat(i).concat(f);a.push(c),e[c]={node:s,lastCount:0},n[c]={};for(var h,l=0;l<o.length;l++)e[h=o[l]]&&e[h].node.mode===s.mode?(n[h][c]=Ro(e[h].lastCount+s.length,s.mode)-Ro(e[h].lastCount,s.mode),e[h].lastCount+=s.length):(e[h]&&(e[h].lastCount=s.length),n[h][c]=Ro(s.length,s.mode)+4+$n(s.mode,r))}o=a}for(l=0;l<o.length;l++)n[o[l]].end=0;return{map:n,table:e}}(function(t){for(var r,e=[],n=0;n<t.length;n++)switch(r=t[n],r.mode){case qn:e.push([r,{data:r.data,mode:Vn,length:r.length},{data:r.data,mode:Gn,length:r.length}]);break;case Vn:e.push([r,{data:r.data,mode:Gn,length:r.length}]);break;case Jn:e.push([r,{data:r.data,mode:Gn,length:_o(r.data)}]);break;case Gn:e.push([{data:r.data,mode:Gn,length:_o(r.data)}])}return e}(Po(t)),r),o=e.find_path(n.map,"start","end"),i=[],u=1;u<o.length-1;u++)i.push(n.table[o[u]].node);return So(function(t){return t.reduce(function(t,r){var e=0<=t.length-1?t[t.length-1]:null;return e&&e.mode===r.mode?(t[t.length-1].data+=r.data,t):(t.push(r),t)},[])}(i))}function Lo(t,r){for(var e,n,o,i=t.size,u=function(t){if(!Cn(t)||7>t)throw new Error("Invalid QR Code version");for(var r=t<<12;0<=We(r)-no;)r^=eo<<We(r)-no;return t<<12|r}(r),a=0;18>a;a++)e=Math.floor(a/3),n=a%3+i-8-3,o=1==(1&u>>a),t.set(e,n,o,!0),t.set(n,e,o,!0)}function Mo(t,r,e){var n,o,i=t.size,u=so(r,e);for(n=0;15>n;n++)o=1==(1&u>>n),6>n?t.set(n,8,o,!0):8>n?t.set(n+1,8,o,!0):t.set(i-15+n,8,o,!0),8>n?t.set(8,i-n-1,o,!0):9>n?t.set(8,15-n-1+1,o,!0):t.set(8,15-n-1,o,!0);t.set(i-8,8,1,!0)}function Oo(t,r,e){var n=new Qe;e.forEach(function(r){n.put(r.mode.bit,4),n.put(r.getLength(),$n(r.mode,t)),r.write(n)});var o=8*(ze(t)-Ln(t,r));for(n.getLengthInBits()+4<=o&&n.put(0,4);0!=n.getLengthInBits()%8;)n.putBit(0);for(var i=(o-n.getLengthInBits())/8,u=0;u<i;u++)n.put(u%2?17:236,8);return function(t,r,e){for(var n,o=ze(r),i=Ln(r,e),u=Bn(r,e),a=Math.floor(o/u),f=Math.floor((o-i)/u),s=a-f,c=new In(s),h=0,l=Array(u),p=Array(u),g=0,d=new De(t.buffer),v=0;v<u;v++)n=v<u-o%u?f:f+1,l[v]=d.slice(h,h+n),p[v]=c.encode(l[v]),h+=n,g=Math.max(g,n);var y,w,m=new De(o),b=0;for(y=0;y<g;y++)for(w=0;w<u;w++)y<l[w].length&&(m[b++]=l[w][y]);for(y=0;y<s;y++)for(w=0;w<u;w++)m[b++]=p[w][y];return m}(n,t,r)}function xo(t,e,n,o){var i;if(r(t))i=So(t);else{if("string"!=typeof t)throw new Error("Invalid data");var u=e;u||(u=ao(function(t){return So(Po(t))}(t),n));i=Bo(t,u||40)}var a=ao(i,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<a)throw new Error("".concat("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: ").concat(a,".\n"))}else e=a;var f=Oo(e,n,i),s=new $e(Ye(e));return function(t,r){for(var e=t.size,n=tn(r),o=0;o<n.length;o++)for(var i=n[o][0],u=n[o][1],a=-1;7>=a;a++)if(!(-1>=i+a||e<=i+a))for(var f=-1;7>=f;f++)-1>=u+f||e<=u+f||(0<=a&&6>=a&&(0==f||6==f)||0<=f&&6>=f&&(0==a||6==a)||2<=a&&4>=a&&2<=f&&4>=f?t.set(i+a,u+f,!0,!0):t.set(i+a,u+f,!1,!0))}(s,e),function(t){for(var r,e=t.size,n=8;n<e-8;n++)r=0==n%2,t.set(n,6,r,!0),t.set(6,n,r,!0)}(s),function(t,r){for(var e=Ze(r),n=0;n<e.length;n++)for(var o=e[n][0],i=e[n][1],u=-2;2>=u;u++)for(var a=-2;2>=a;a++)-2==u||2==u||-2==a||2==a||0==u&&0==a?t.set(o+u,i+a,!0,!0):t.set(o+u,i+a,!1,!0)}(s,e),Mo(s,n,0),7<=e&&Lo(s,e),function(t,r){for(var e=t.size,n=-1,o=e-1,i=7,u=0,a=e-1;0<a;a-=2)for(6==a&&a--;;){for(var f=0;2>f;f++)if(!t.isReserved(o,a-f)){var s=!1;u<r.length&&(s=1==(1&r[u]>>>i)),t.set(o,a-f,s),-1==--i&&(u++,i=7)}if(0>(o+=n)||e<=o){o-=n,n=-n;break}}}(s,f),isNaN(o)&&(o=function(t,r){for(var e=rn(dn).length,n=0,o=1/0,i=0;i<e;i++){r(i),An(i,t);var u=wn(t)+mn(t)+bn(t)+En(t);An(i,t),u<o&&(o=u,n=i)}return n}(s,Mo.bind(null,s,n))),An(o,s),Mo(s,n,o),{modules:s,version:e,errorCorrectionLevel:n,maskPattern:o,segments:i}}function Io(t,r){if(void 0===t||""===t)throw new Error("No input text");var e,n,o,i,u=Je;return void 0!==r&&(u=(void 0)(r.errorCorrectionLevel,Je),o=r.version,e=Cn(o)?gn(o,10):i,n=yn(r.maskPattern),r.toSJISFunc&&He(r.toSJISFunc)),xo(t,e,u,n)}function Co(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var r=t.slice().replace("#","").split("");if(3>r.length||5===r.length||8<r.length)throw new Error("Invalid hex color: ".concat(t));(3===r.length||4===r.length)&&(r=Array.prototype.concat.apply([],r.map(function(t){return[t,t]}))),6===r.length&&r.push("F","F");var e=gn(r.join(""),16);return{r:255&e>>24,g:255&e>>16,b:255&e>>8,a:255&e,hex:"#".concat(r.slice(0,6).join(""))}}function jo(t){t||(t={}),t.color||(t.color={});var r=void 0===t.margin||null===t.margin||0>t.margin?4:t.margin,e=t.width&&21<=t.width?t.width:void 0,n=t.scale||4;return{width:e,scale:e?4:n,margin:r,color:{dark:Co(t.color.dark||"#000000ff"),light:Co(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}}function Uo(t,r){return r.width&&r.width>=t+2*r.margin?r.width/(t+2*r.margin):r.scale}function No(t,r){var e=Uo(t,r);return Math.floor((t+2*r.margin)*e)}function ko(t,r,e){for(var n=r.modules.size,o=r.modules.data,i=Uo(n,e),u=Math.floor((n+2*e.margin)*i),a=e.margin*i,f=[e.color.light,e.color.dark],s=0;s<u;s++)for(var c=0;c<u;c++){var h=4*(s*u+c),l=e.color.light;if(s>=a&&c>=a&&s<u-a&&c<u-a)l=f[o[Math.floor((s-a)/i)*n+Math.floor((c-a)/i)]?1:0];t[h++]=l.r,t[h++]=l.g,t[h++]=l.b,t[h]=l.a}}var Do=Object.freeze({getOptions:jo,getScale:Uo,getImageWidth:No,qrToImageData:ko});function Fo(t,r){var e=t.a/255,n="".concat(r,'="').concat(t.hex,'"');return 1>e?"".concat(n," ").concat(r,'-opacity="').concat(e.toFixed(2).slice(1),'"'):n}function Yo(t,r,e){var n=t+r;return void 0!==e&&(n+=" ".concat(e)),n}var zo=Object.freeze({render:function(t,r,e){var n=jo(r),o=t.modules.size,i=t.modules.data,u=o+2*n.margin,a=n.color.light.a?"<path ".concat(Fo(n.color.light,"fill"),' d="M0 0h').concat(u,"v").concat(u,'H0z"/>'):"",f="<path ".concat(Fo(n.color.dark,"stroke"),' d="').concat(function(t,r,e){for(var n="",o=0,i=!1,u=0,a=0;a<t.length;a++){var f=Math.floor(a%r),s=Math.floor(a/r);f||i||(i=!0),t[a]?(u++,!(0<a&&0<f&&t[a-1])&&(n+=i?Yo("M",f+e,.5+s+e):Yo("m",o,0),o=0,i=!1),!(f+1<r&&t[a+1])&&(n+=Yo("h",u),u=0)):o++}return n}(i,o,n.margin),'"/>'),s="".concat('viewBox="0 0 ').concat(u," ").concat(u,'"'),c=n.width?'width="'.concat(n.width,'" height="').concat(n.width,'" '):"",h='<svg xmlns="http://www.w3.org/2000/svg" '.concat(c).concat(s,' shape-rendering="crispEdges">').concat(a).concat(f,"</svg>\n");return"function"==typeof e&&e(null,h),h}}),Wo={WW:" ",WB:"â",BB:"â",BW:"â"},Ho={BB:" ",BW:"â",WW:"â",WB:"â"};function qo(t,r,e){return t&&r?e.BB:t&&!r?e.BW:!t&&r?e.WB:e.WW}var Vo=function(t,r,e){var n=Do.getOptions(r),o=Wo;("#ffffff"===n.color.dark.hex||"#000000"===n.color.light.hex)&&(o=Ho);var i=t.modules.size,u=t.modules.data,a="",f=Array(i+2*n.margin+1).join(o.WW);f=Array(n.margin/2+1).join("".concat(f,"\n"));var s=Array(n.margin+1).join(o.WW);a+=f;for(var c=0;c<i;c+=2){a+=s;for(var h=0;h<i;h++){a+=qo(u[c*i+h],u[(c+1)*i+h],o)}a+="".concat(s,"\n")}return a+=f.slice(0,-1),"function"==typeof e&&e(null,a),a},Go={render:Vo},Jo=Object.freeze({default:Go,__moduleExports:Go,render:Vo}),Qo=n.PNG;function $o(t,r){var e=jo(r),n=e.rendererOpts,o=No(t.modules.size,e);n.width=o,n.height=o;var i=new Qo(n);return ko(i.data,t,e),i}function Ko(t,r,e){void 0===e&&(e=r,r=void 0);var n=$o(t,r),o=[];n.on("error",e),n.on("data",function(t){o.push(t)}),n.on("end",function(){e(null,Zr.concat(o))}),n.pack()}var Zo=Object.freeze({render:$o,renderToDataURL:function(t,r,e){void 0===e&&(e=r,r=void 0),Ko(t,r,function(t,r){t&&e(t);var n="data:image/png;base64,";n+=r.toString("base64"),e(null,n)})},renderToBuffer:Ko,renderToFileStream:function(t,r,e){$o(r,e).pack().pipe(t)}});function Xo(t,r,e){if(void 0===t)throw new Error("String required as first argument");if(void 0===e&&(e=r,r={}),"function"!=typeof e){if("function"!=typeof Ur||!Ur.prototype||!Ur.prototype.then)throw new Error("Callback required as last argument");r=e||{},e=null}return{opts:r,cb:e}}function ti(t){switch(t){case"svg":return zo;case"txt":case"utf8":return Jo;case"png":case"image/png":default:return Zo}}function ri(t,r,e){if(!e.cb)return new Ur(function(n,o){try{var i=Io(r,e.opts);return t(i,e.opts,function(t,r){return t?o(t):n(r)})}catch(t){o(t)}});try{var n=Io(r,e.opts);return t(n,e.opts,e.cb)}catch(t){e.cb(t)}}var ei=Io;t.create=ei,t.getSvgDataURL=function(t,r,e){var n=Xo(t,r,function(t,r){e(t,"data:image/svg+xml;utf8,".concat(encodeURIComponent(r)))});return ri(ti("svg").render,t,n)},t.toBuffer=function(t,r,e){var n=Xo(t,r,e);return ri(ti(n.opts.type).renderToBuffer,t,n)},t.toDataURL=function(t,r,e){var n=Xo(t,r,e);return ri(ti(n.opts.type).renderToDataURL,t,n)},t.toString=function(t,r,e){var n=Xo(t,r,e);return ri(function(t){switch(t){case"svg":return zo;case"utf8":default:return Jo}}(n.opts.type).render,t,n)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=cnf-qrcode.common.js.map
