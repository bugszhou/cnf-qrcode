!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("isarray"),require("dijkstrajs"),require("pngjs")):"function"==typeof define&&define.amd?define(["exports","isarray","dijkstrajs","pngjs"],r):(t=t||self,function(){var n=t["cnf-qrcode"],e=t["cnf-qrcode"]={};r(e,t.isArray$1,t.dijkstra,t.pngjs),e.noConflict=function(){return t["cnf-qrcode"]=n,e}}())}(this,function(t,r,n,e){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,e=e&&e.hasOwnProperty("default")?e.default:e;var o=Math.ceil,i=Math.floor,u=function(t){return isNaN(t=+t)?0:(t>0?i:o)(t)},a=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t};function f(t,r){return t(r={exports:{}},r.exports),r.exports}var s=f(function(t){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)}),c=f(function(t){var r=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=r)}),h=(c.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),l=function(t,r,n){if(h(t),void 0===r)return t;switch(n){case 1:return function(n){return t.call(r,n)};case 2:return function(n,e){return t.call(r,n,e)};case 3:return function(n,e,o){return t.call(r,n,e,o)}}return function(){return t.apply(r,arguments)}},p=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=function(t){if(!p(t))throw TypeError(t+" is not an object!");return t},d=function(t){try{return!!t()}catch(t){return!0}},v=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),y=s.document,w=p(y)&&p(y.createElement),m=function(t){return w?y.createElement(t):{}},b=!v&&!d(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a}),E=Object.defineProperty,_={f:v?Object.defineProperty:function(t,r,n){if(g(t),r=function(t,r){if(!p(t))return t;var n,e;if(r&&"function"==typeof(n=t.toString)&&!p(e=n.call(t)))return e;if("function"==typeof(n=t.valueOf)&&!p(e=n.call(t)))return e;if(!r&&"function"==typeof(n=t.toString)&&!p(e=n.call(t)))return e;throw TypeError("Can't convert object to primitive value")}(r,!0),g(n),b)try{return E(t,r,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[r]=n.value),t}},A=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}},P=v?function(t,r,n){return _.f(t,r,A(1,n))}:function(t,r,n){return t[r]=n,t},R={}.hasOwnProperty,T=function(t,r){return R.call(t,r)},B=function(t,r,n){var e,o,i,u=t&B.F,a=t&B.G,f=t&B.S,h=t&B.P,p=t&B.B,g=t&B.W,d=a?c:c[r]||(c[r]={}),v=d.prototype,y=a?s:f?s[r]:(s[r]||{}).prototype;for(e in a&&(n=r),n)(o=!u&&y&&void 0!==y[e])&&T(d,e)||(i=o?y[e]:n[e],d[e]=a&&"function"!=typeof y[e]?n[e]:p&&o?l(i,s):g&&y[e]==i?function(t){var r=function(r,n,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,e)}return t.apply(this,arguments)};return r.prototype=t.prototype,r}(i):h&&"function"==typeof i?l(Function.call,i):i,h&&((d.virtual||(d.virtual={}))[e]=i,t&B.R&&v&&!v[e]&&P(v,e,i)))};B.F=1,B.G=2,B.S=4,B.P=8,B.B=16,B.W=32,B.U=64,B.R=128;var S,L=B,M=P,O={},x={}.toString,I=function(t){return x.call(t).slice(8,-1)},U=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==I(t)?t.split(""):Object(t)},C=function(t){return U(a(t))},j=Math.min,N=function(t){return t>0?j(u(t),9007199254740991):0},k=Math.max,F=Math.min,Y=f(function(t){var r=s["__core-js_shared__"]||(s["__core-js_shared__"]={});(t.exports=function(t,n){return r[t]||(r[t]=void 0!==n?n:{})})("versions",[]).push({version:c.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}),D=0,z=Math.random(),W=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++D+z).toString(36))},q=Y("keys"),G=function(t){return q[t]||(q[t]=W(t))},V=(S=!1,function(t,r,n){var e,o=C(t),i=N(o.length),a=function(t,r){return(t=u(t))<0?k(t+r,0):F(t,r)}(n,i);if(S&&r!=r){for(;i>a;)if((e=o[a++])!=e)return!0}else for(;i>a;a++)if((S||a in o)&&o[a]===r)return S||a||0;return!S&&-1}),$=G("IE_PROTO"),H="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),J=Object.keys||function(t){return function(t,r){var n,e=C(t),o=0,i=[];for(n in e)n!=$&&T(e,n)&&i.push(n);for(;r.length>o;)T(e,n=r[o++])&&(~V(i,n)||i.push(n));return i}(t,H)},Z=v?Object.defineProperties:function(t,r){g(t);for(var n,e=J(r),o=e.length,i=0;o>i;)_.f(t,n=e[i++],r[n]);return t},Q=s.document,K=Q&&Q.documentElement,X=G("IE_PROTO"),tt=function(){},rt=function(){var t,r=m("iframe"),n=H.length;for(r.style.display="none",K.appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),rt=t.F;n--;)delete rt.prototype[H[n]];return rt()},nt=Object.create||function(t,r){var n;return null!==t?(tt.prototype=g(t),n=new tt,tt.prototype=null,n[X]=t):n=rt(),void 0===r?n:Z(n,r)},et=f(function(t){var r=Y("wks"),n=s.Symbol,e="function"==typeof n;(t.exports=function(t){return r[t]||(r[t]=e&&n[t]||(e?n:W)("Symbol."+t))}).store=r}),ot=_.f,it=et("toStringTag"),ut=function(t,r,n){t&&!T(t=n?t:t.prototype,it)&&ot(t,it,{configurable:!0,value:r})},at={};P(at,et("iterator"),function(){return this});var ft,st=function(t,r,n){t.prototype=nt(at,{next:A(1,n)}),ut(t,r+" Iterator")},ct=function(t){return Object(a(t))},ht=G("IE_PROTO"),lt=Object.prototype,pt=Object.getPrototypeOf||function(t){return t=ct(t),T(t,ht)?t[ht]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?lt:null},gt=et("iterator"),dt=!([].keys&&"next"in[].keys()),vt=function(){return this},yt=function(t,r,n,e,o,i,u){st(n,r,e);var a,f,s,c=function(t){if(!dt&&t in g)return g[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=r+" Iterator",l="values"==o,p=!1,g=t.prototype,d=g[gt]||g["@@iterator"]||o&&g[o],v=d||c(o),y=o?l?c("entries"):v:void 0,w="Array"==r&&g.entries||d;if(w&&(s=pt(w.call(new t)))!==Object.prototype&&s.next&&ut(s,h,!0),l&&d&&"values"!==d.name&&(p=!0,v=function(){return d.call(this)}),u&&(dt||p||!g[gt])&&P(g,gt,v),O[r]=v,O[h]=vt,o)if(a={values:l?v:c("values"),keys:i?v:c("keys"),entries:y},u)for(f in a)f in g||M(g,f,a[f]);else L(L.P+L.F*(dt||p),r,a);return a},wt=(ft=!0,function(t,r){var n,e,o=String(a(t)),i=u(r),f=o.length;return i<0||i>=f?ft?"":void 0:(n=o.charCodeAt(i))<55296||n>56319||i+1===f||(e=o.charCodeAt(i+1))<56320||e>57343?ft?o.charAt(i):n:ft?o.slice(i,i+2):e-56320+(n-55296<<10)+65536});yt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,r=this._t,n=this._i;return n>=r.length?{value:void 0,done:!0}:(t=wt(r,n),this._i+=t.length,{value:t,done:!1})});var mt=function(t,r){return{value:r,done:!!t}};yt(Array,"Array",function(t,r){this._t=C(t),this._i=0,this._k=r},function(){var t=this._t,r=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,mt(1)):mt(0,"keys"==r?n:"values"==r?t[n]:[n,t[n]])},"values");O.Arguments=O.Array;for(var bt=et("toStringTag"),Et="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),_t=0;_t<Et.length;_t++){var At=Et[_t],Pt=s[At],Rt=Pt&&Pt.prototype;Rt&&!Rt[bt]&&P(Rt,bt,At),O[At]=O.Array}var Tt,Bt,St,Lt=et("toStringTag"),Mt="Arguments"==I(function(){return arguments}()),Ot=function(t){var r,n,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),Lt))?n:Mt?I(r):"Object"==(e=I(r))&&"function"==typeof r.callee?"Arguments":e},xt=function(t,r,n,e){try{return e?r(g(n)[0],n[1]):r(n)}catch(r){var o=t.return;throw void 0!==o&&g(o.call(t)),r}},It=et("iterator"),Ut=Array.prototype,Ct=et("iterator"),jt=c.getIteratorMethod=function(t){if(null!=t)return t[Ct]||t["@@iterator"]||O[Ot(t)]},Nt=f(function(t){var r={},n={},e=t.exports=function(t,e,o,i,u){var a,f,s,c,h,p=u?function(){return t}:jt(t),d=l(o,i,e?2:1),v=0;if("function"!=typeof p)throw TypeError(t+" is not iterable!");if(void 0===(h=p)||O.Array!==h&&Ut[It]!==h){for(s=p.call(t);!(f=s.next()).done;)if((c=xt(s,d,f.value,e))===r||c===n)return c}else for(a=N(t.length);a>v;v++)if((c=e?d(g(f=t[v])[0],f[1]):d(t[v]))===r||c===n)return c};e.BREAK=r,e.RETURN=n}),kt=et("species"),Ft=function(t,r){var n,e=g(t).constructor;return void 0===e||null==(n=g(e)[kt])?r:h(n)},Yt=function(t,r,n){var e=void 0===n;switch(r.length){case 0:return e?t():t.call(n);case 1:return e?t(r[0]):t.call(n,r[0]);case 2:return e?t(r[0],r[1]):t.call(n,r[0],r[1]);case 3:return e?t(r[0],r[1],r[2]):t.call(n,r[0],r[1],r[2]);case 4:return e?t(r[0],r[1],r[2],r[3]):t.call(n,r[0],r[1],r[2],r[3])}return t.apply(n,r)},Dt=s.process,zt=s.setImmediate,Wt=s.clearImmediate,qt=s.MessageChannel,Gt=s.Dispatch,Vt=0,$t={},Ht=function(){var t=+this;if($t.hasOwnProperty(t)){var r=$t[t];delete $t[t],r()}},Jt=function(t){Ht.call(t.data)};zt&&Wt||(zt=function(t){for(var r=[],n=1;arguments.length>n;)r.push(arguments[n++]);return $t[++Vt]=function(){Yt("function"==typeof t?t:Function(t),r)},Tt(Vt),Vt},Wt=function(t){delete $t[t]},"process"==I(Dt)?Tt=function(t){Dt.nextTick(l(Ht,t,1))}:Gt&&Gt.now?Tt=function(t){Gt.now(l(Ht,t,1))}:qt?(St=(Bt=new qt).port2,Bt.port1.onmessage=Jt,Tt=l(St.postMessage,St,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(Tt=function(t){s.postMessage(t+"","*")},s.addEventListener("message",Jt,!1)):Tt="onreadystatechange"in m("script")?function(t){K.appendChild(m("script")).onreadystatechange=function(){K.removeChild(this),Ht.call(t)}}:function(t){setTimeout(l(Ht,t,1),0)});var Zt={set:zt,clear:Wt},Qt=Zt.set,Kt=s.MutationObserver||s.WebKitMutationObserver,Xt=s.process,tr=s.Promise,rr="process"==I(Xt);function nr(t){var r,n;this.promise=new t(function(t,e){if(void 0!==r||void 0!==n)throw TypeError("Bad Promise constructor");r=t,n=e}),this.resolve=h(r),this.reject=h(n)}var er={f:function(t){return new nr(t)}},or=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},ir=s.navigator,ur=ir&&ir.userAgent||"",ar=function(t,r){if(g(t),p(r)&&r.constructor===t)return r;var n=er.f(t);return(0,n.resolve)(r),n.promise},fr=et("species"),sr=et("iterator"),cr=!1;try{var hr=[7][sr]();hr.return=function(){cr=!0},Array.from(hr,function(){throw 2})}catch(t){}var lr,pr,gr,dr,vr,yr,wr=Zt.set,mr=function(){var t,r,n,e=function(){var e,o;for(rr&&(e=Xt.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?n():r=void 0,e}}r=void 0,e&&e.enter()};if(rr)n=function(){Xt.nextTick(e)};else if(!Kt||s.navigator&&s.navigator.standalone)if(tr&&tr.resolve){var o=tr.resolve(void 0);n=function(){o.then(e)}}else n=function(){Qt.call(s,e)};else{var i=!0,u=document.createTextNode("");new Kt(e).observe(u,{characterData:!0}),n=function(){u.data=i=!i}}return function(e){var o={fn:e,next:void 0};r&&(r.next=o),t||(t=o,n()),r=o}}(),br=s.TypeError,Er=s.process,_r=Er&&Er.versions,Ar=_r&&_r.v8||"",Pr=s.Promise,Rr="process"==Ot(Er),Tr=function(){},Br=pr=er.f,Sr=!!function(){try{var t=Pr.resolve(1),r=(t.constructor={})[et("species")]=function(t){t(Tr,Tr)};return(Rr||"function"==typeof PromiseRejectionEvent)&&t.then(Tr)instanceof r&&0!==Ar.indexOf("6.6")&&-1===ur.indexOf("Chrome/66")}catch(t){}}(),Lr=function(t){var r;return!(!p(t)||"function"!=typeof(r=t.then))&&r},Mr=function(t,r){if(!t._n){t._n=!0;var n=t._c;mr(function(){for(var e=t._v,o=1==t._s,i=0,u=function(r){var n,i,u,a=o?r.ok:r.fail,f=r.resolve,s=r.reject,c=r.domain;try{a?(o||(2==t._h&&Ir(t),t._h=1),!0===a?n=e:(c&&c.enter(),n=a(e),c&&(c.exit(),u=!0)),n===r.promise?s(br("Promise-chain cycle")):(i=Lr(n))?i.call(n,f,s):f(n)):s(e)}catch(t){c&&!u&&c.exit(),s(t)}};n.length>i;)u(n[i++]);t._c=[],t._n=!1,r&&!t._h&&Or(t)})}},Or=function(t){wr.call(s,function(){var r,n,e,o=t._v,i=xr(t);if(i&&(r=or(function(){Rr?Er.emit("unhandledRejection",o,t):(n=s.onunhandledrejection)?n({promise:t,reason:o}):(e=s.console)&&e.error&&e.error("Unhandled promise rejection",o)}),t._h=Rr||xr(t)?2:1),t._a=void 0,i&&r.e)throw r.v})},xr=function(t){return 1!==t._h&&0===(t._a||t._c).length},Ir=function(t){wr.call(s,function(){var r;Rr?Er.emit("rejectionHandled",t):(r=s.onrejectionhandled)&&r({promise:t,reason:t._v})})},Ur=function(t){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=t,r._s=2,r._a||(r._a=r._c.slice()),Mr(r,!0))},Cr=function(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw br("Promise can't be resolved itself");(r=Lr(t))?mr(function(){var e={_w:n,_d:!1};try{r.call(t,l(Cr,e,1),l(Ur,e,1))}catch(t){Ur.call(e,t)}}):(n._v=t,n._s=1,Mr(n,!1))}catch(t){Ur.call({_w:n,_d:!1},t)}}};Sr||(Pr=function(t){!function(t,r,n,e){if(!(t instanceof r)||void 0!==e&&e in t)throw TypeError(n+": incorrect invocation!")}(this,Pr,"Promise","_h"),h(t),lr.call(this);try{t(l(Cr,this,1),l(Ur,this,1))}catch(t){Ur.call(this,t)}},(lr=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,r,n){for(var e in r)n&&t[e]?t[e]=r[e]:P(t,e,r[e]);return t}(Pr.prototype,{then:function(t,r){var n=Br(Ft(this,Pr));return n.ok="function"!=typeof t||t,n.fail="function"==typeof r&&r,n.domain=Rr?Er.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Mr(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),gr=function(){var t=new lr;this.promise=t,this.resolve=l(Cr,t,1),this.reject=l(Ur,t,1)},er.f=Br=function(t){return t===Pr||t===dr?new gr(t):pr(t)}),L(L.G+L.W+L.F*!Sr,{Promise:Pr}),ut(Pr,"Promise"),yr="function"==typeof c[vr="Promise"]?c[vr]:s[vr],v&&yr&&!yr[fr]&&_.f(yr,fr,{configurable:!0,get:function(){return this}}),dr=c.Promise,L(L.S+L.F*!Sr,"Promise",{reject:function(t){var r=Br(this);return(0,r.reject)(t),r.promise}}),L(L.S+!0*L.F,"Promise",{resolve:function(t){return ar(this===dr?Pr:this,t)}}),L(L.S+L.F*!(Sr&&function(t,r){if(!r&&!cr)return!1;var n=!1;try{var e=[7],o=e[sr]();o.next=function(){return{done:n=!0}},e[sr]=function(){return o},t(e)}catch(t){}return n}(function(t){Pr.all(t).catch(Tr)})),"Promise",{all:function(t){var r=this,n=Br(r),e=n.resolve,o=n.reject,i=or(function(){var n=[],i=0,u=1;Nt(t,!1,function(t){var a=i++,f=!1;n.push(void 0),u++,r.resolve(t).then(function(t){f||(f=!0,n[a]=t,--u||e(n))},o)}),--u||e(n)});return i.e&&o(i.v),n.promise},race:function(t){var r=this,n=Br(r),e=n.reject,o=or(function(){Nt(t,!1,function(t){r.resolve(t).then(n.resolve,e)})});return o.e&&e(o.v),n.promise}}),L(L.P+L.R,"Promise",{finally:function(t){var r=Ft(this,c.Promise||s.Promise),n="function"==typeof t;return this.then(n?function(n){return ar(r,t()).then(function(){return n})}:t,n?function(n){return ar(r,t()).then(function(){throw n})}:t)}}),L(L.S,"Promise",{try:function(t){var r=er.f(this),n=or(t);return(n.e?r.reject:r.resolve)(n.v),r.promise}});var jr=c.Promise;var Nr="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},kr=[],Fr=[],Yr="undefined"!=typeof Uint8Array?Uint8Array:Array,Dr=!1;function zr(){Dr=!0;for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,n=t.length;r<n;++r)kr[r]=t[r],Fr[t.charCodeAt(r)]=r;Fr["-".charCodeAt(0)]=62,Fr["_".charCodeAt(0)]=63}function Wr(t,r,n){for(var e,o,i=[],u=r;u<n;u+=3)e=(t[u]<<16)+(t[u+1]<<8)+t[u+2],i.push(kr[(o=e)>>18&63]+kr[o>>12&63]+kr[o>>6&63]+kr[63&o]);return i.join("")}function qr(t){var r;Dr||zr();for(var n=t.length,e=n%3,o="",i=[],u=0,a=n-e;u<a;u+=16383)i.push(Wr(t,u,u+16383>a?a:u+16383));return 1===e?(r=t[n-1],o+=kr[r>>2],o+=kr[r<<4&63],o+="=="):2===e&&(r=(t[n-2]<<8)+t[n-1],o+=kr[r>>10],o+=kr[r>>4&63],o+=kr[r<<2&63],o+="="),i.push(o),i.join("")}function Gr(t,r,n,e,o){var i,u,a=8*o-e-1,f=(1<<a)-1,s=f>>1,c=-7,h=n?o-1:0,l=n?-1:1,p=t[r+h];for(h+=l,i=p&(1<<-c)-1,p>>=-c,c+=a;c>0;i=256*i+t[r+h],h+=l,c-=8);for(u=i&(1<<-c)-1,i>>=-c,c+=e;c>0;u=256*u+t[r+h],h+=l,c-=8);if(0===i)i=1-s;else{if(i===f)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,e),i-=s}return(p?-1:1)*u*Math.pow(2,i-e)}function Vr(t,r,n,e,o,i){var u,a,f,s=8*i-o-1,c=(1<<s)-1,h=c>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=e?0:i-1,g=e?1:-1,d=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(a=isNaN(r)?1:0,u=c):(u=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-u))<1&&(u--,f*=2),(r+=u+h>=1?l/f:l*Math.pow(2,1-h))*f>=2&&(u++,f/=2),u+h>=c?(a=0,u=c):u+h>=1?(a=(r*f-1)*Math.pow(2,o),u+=h):(a=r*Math.pow(2,h-1)*Math.pow(2,o),u=0));o>=8;t[n+p]=255&a,p+=g,a/=256,o-=8);for(u=u<<o|a,s+=o;s>0;t[n+p]=255&u,p+=g,u/=256,s-=8);t[n+p-g]|=128*d}var $r={}.toString,Hr=Array.isArray||function(t){return"[object Array]"==$r.call(t)};function Jr(){return Qr.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Zr(t,r){if(Jr()<r)throw new RangeError("Invalid typed array length");return Qr.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=Qr.prototype:(null===t&&(t=new Qr(r)),t.length=r),t}function Qr(t,r,n){if(!(Qr.TYPED_ARRAY_SUPPORT||this instanceof Qr))return new Qr(t,r,n);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return tn(this,t)}return Kr(this,t,r,n)}function Kr(t,r,n,e){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function(t,r,n,e){if(r.byteLength,n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(e||0))throw new RangeError("'length' is out of bounds");r=void 0===n&&void 0===e?new Uint8Array(r):void 0===e?new Uint8Array(r,n):new Uint8Array(r,n,e);Qr.TYPED_ARRAY_SUPPORT?(t=r).__proto__=Qr.prototype:t=rn(t,r);return t}(t,r,n,e):"string"==typeof r?function(t,r,n){"string"==typeof n&&""!==n||(n="utf8");if(!Qr.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var e=0|on(r,n),o=(t=Zr(t,e)).write(r,n);o!==e&&(t=t.slice(0,o));return t}(t,r,n):function(t,r){if(en(r)){var n=0|nn(r.length);return 0===(t=Zr(t,n)).length?t:(r.copy(t,0,0,n),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(e=r.length)!=e?Zr(t,0):rn(t,r);if("Buffer"===r.type&&Hr(r.data))return rn(t,r.data)}var e;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,r)}function Xr(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function tn(t,r){if(Xr(r),t=Zr(t,r<0?0:0|nn(r)),!Qr.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)t[n]=0;return t}function rn(t,r){var n=r.length<0?0:0|nn(r.length);t=Zr(t,n);for(var e=0;e<n;e+=1)t[e]=255&r[e];return t}function nn(t){if(t>=Jr())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Jr().toString(16)+" bytes");return 0|t}function en(t){return!(null==t||!t._isBuffer)}function on(t,r){if(en(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var e=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return xn(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return In(t).length;default:if(e)return xn(t).length;r=(""+r).toLowerCase(),e=!0}}function un(t,r,n){var e=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(r>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return En(this,r,n);case"utf8":case"utf-8":return yn(this,r,n);case"ascii":return mn(this,r,n);case"latin1":case"binary":return bn(this,r,n);case"base64":return vn(this,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _n(this,r,n);default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function an(t,r,n){var e=t[r];t[r]=t[n],t[n]=e}function fn(t,r,n,e,o){if(0===t.length)return-1;if("string"==typeof n?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof r&&(r=Qr.from(r,e)),en(r))return 0===r.length?-1:sn(t,r,n,e,o);if("number"==typeof r)return r&=255,Qr.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,r,n):Uint8Array.prototype.lastIndexOf.call(t,r,n):sn(t,[r],n,e,o);throw new TypeError("val must be string, number or Buffer")}function sn(t,r,n,e,o){var i,u=1,a=t.length,f=r.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(t.length<2||r.length<2)return-1;u=2,a/=2,f/=2,n/=2}function s(t,r){return 1===u?t[r]:t.readUInt16BE(r*u)}if(o){var c=-1;for(i=n;i<a;i++)if(s(t,i)===s(r,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===f)return c*u}else-1!==c&&(i-=i-c),c=-1}else for(n+f>a&&(n=a-f),i=n;i>=0;i--){for(var h=!0,l=0;l<f;l++)if(s(t,i+l)!==s(r,l)){h=!1;break}if(h)return i}return-1}function cn(t,r,n,e){n=Number(n)||0;var o=t.length-n;e?(e=Number(e))>o&&(e=o):e=o;var i=r.length;if(i%2!=0)throw new TypeError("Invalid hex string");e>i/2&&(e=i/2);for(var u=0;u<e;++u){var a=parseInt(r.substr(2*u,2),16);if(isNaN(a))return u;t[n+u]=a}return u}function hn(t,r,n,e){return Un(xn(r,t.length-n),t,n,e)}function ln(t,r,n,e){return Un(function(t){for(var r=[],n=0;n<t.length;++n)r.push(255&t.charCodeAt(n));return r}(r),t,n,e)}function pn(t,r,n,e){return ln(t,r,n,e)}function gn(t,r,n,e){return Un(In(r),t,n,e)}function dn(t,r,n,e){return Un(function(t,r){for(var n,e,o,i=[],u=0;u<t.length&&!((r-=2)<0);++u)n=t.charCodeAt(u),e=n>>8,o=n%256,i.push(o),i.push(e);return i}(r,t.length-n),t,n,e)}function vn(t,r,n){return 0===r&&n===t.length?qr(t):qr(t.slice(r,n))}function yn(t,r,n){n=Math.min(t.length,n);for(var e=[],o=r;o<n;){var i,u,a,f,s=t[o],c=null,h=s>239?4:s>223?3:s>191?2:1;if(o+h<=n)switch(h){case 1:s<128&&(c=s);break;case 2:128==(192&(i=t[o+1]))&&(f=(31&s)<<6|63&i)>127&&(c=f);break;case 3:i=t[o+1],u=t[o+2],128==(192&i)&&128==(192&u)&&(f=(15&s)<<12|(63&i)<<6|63&u)>2047&&(f<55296||f>57343)&&(c=f);break;case 4:i=t[o+1],u=t[o+2],a=t[o+3],128==(192&i)&&128==(192&u)&&128==(192&a)&&(f=(15&s)<<18|(63&i)<<12|(63&u)<<6|63&a)>65535&&f<1114112&&(c=f)}null===c?(c=65533,h=1):c>65535&&(c-=65536,e.push(c>>>10&1023|55296),c=56320|1023&c),e.push(c),o+=h}return function(t){var r=t.length;if(r<=wn)return String.fromCharCode.apply(String,t);var n="",e=0;for(;e<r;)n+=String.fromCharCode.apply(String,t.slice(e,e+=wn));return n}(e)}Qr.TYPED_ARRAY_SUPPORT=void 0===Nr.TYPED_ARRAY_SUPPORT||Nr.TYPED_ARRAY_SUPPORT,Qr.poolSize=8192,Qr._augment=function(t){return t.__proto__=Qr.prototype,t},Qr.from=function(t,r,n){return Kr(null,t,r,n)},Qr.TYPED_ARRAY_SUPPORT&&(Qr.prototype.__proto__=Uint8Array.prototype,Qr.__proto__=Uint8Array),Qr.alloc=function(t,r,n){return function(t,r,n,e){return Xr(r),r<=0?Zr(t,r):void 0!==n?"string"==typeof e?Zr(t,r).fill(n,e):Zr(t,r).fill(n):Zr(t,r)}(null,t,r,n)},Qr.allocUnsafe=function(t){return tn(null,t)},Qr.allocUnsafeSlow=function(t){return tn(null,t)},Qr.isBuffer=function(t){return null!=t&&(!!t._isBuffer||Cn(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&Cn(t.slice(0,0))}(t))},Qr.compare=function(t,r){if(!en(t)||!en(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,e=r.length,o=0,i=Math.min(n,e);o<i;++o)if(t[o]!==r[o]){n=t[o],e=r[o];break}return n<e?-1:e<n?1:0},Qr.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Qr.concat=function(t,r){if(!Hr(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Qr.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var e=Qr.allocUnsafe(r),o=0;for(n=0;n<t.length;++n){var i=t[n];if(!en(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(e,o),o+=i.length}return e},Qr.byteLength=on,Qr.prototype._isBuffer=!0,Qr.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)an(this,r,r+1);return this},Qr.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)an(this,r,r+3),an(this,r+1,r+2);return this},Qr.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)an(this,r,r+7),an(this,r+1,r+6),an(this,r+2,r+5),an(this,r+3,r+4);return this},Qr.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?yn(this,0,t):un.apply(this,arguments)},Qr.prototype.equals=function(t){if(!en(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Qr.compare(this,t)},Qr.prototype.inspect=function(){var t="";return this.length>0&&(t=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(t+=" ... ")),"<Buffer "+t+">"},Qr.prototype.compare=function(t,r,n,e,o){if(!en(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===n&&(n=t?t.length:0),void 0===e&&(e=0),void 0===o&&(o=this.length),r<0||n>t.length||e<0||o>this.length)throw new RangeError("out of range index");if(e>=o&&r>=n)return 0;if(e>=o)return-1;if(r>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(e>>>=0),u=(n>>>=0)-(r>>>=0),a=Math.min(i,u),f=this.slice(e,o),s=t.slice(r,n),c=0;c<a;++c)if(f[c]!==s[c]){i=f[c],u=s[c];break}return i<u?-1:u<i?1:0},Qr.prototype.includes=function(t,r,n){return-1!==this.indexOf(t,r,n)},Qr.prototype.indexOf=function(t,r,n){return fn(this,t,r,n,!0)},Qr.prototype.lastIndexOf=function(t,r,n){return fn(this,t,r,n,!1)},Qr.prototype.write=function(t,r,n,e){if(void 0===r)e="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)e=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(n)?(n|=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var o=this.length-r;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var i=!1;;)switch(e){case"hex":return cn(this,t,r,n);case"utf8":case"utf-8":return hn(this,t,r,n);case"ascii":return ln(this,t,r,n);case"latin1":case"binary":return pn(this,t,r,n);case"base64":return gn(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return dn(this,t,r,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),i=!0}},Qr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var wn=4096;function mn(t,r,n){var e="";n=Math.min(t.length,n);for(var o=r;o<n;++o)e+=String.fromCharCode(127&t[o]);return e}function bn(t,r,n){var e="";n=Math.min(t.length,n);for(var o=r;o<n;++o)e+=String.fromCharCode(t[o]);return e}function En(t,r,n){var e=t.length;(!r||r<0)&&(r=0),(!n||n<0||n>e)&&(n=e);for(var o="",i=r;i<n;++i)o+=On(t[i]);return o}function _n(t,r,n){for(var e=t.slice(r,n),o="",i=0;i<e.length;i+=2)o+=String.fromCharCode(e[i]+256*e[i+1]);return o}function An(t,r,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>n)throw new RangeError("Trying to access beyond buffer length")}function Pn(t,r,n,e,o,i){if(!en(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>o||r<i)throw new RangeError('"value" argument is out of bounds');if(n+e>t.length)throw new RangeError("Index out of range")}function Rn(t,r,n,e){r<0&&(r=65535+r+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(r&255<<8*(e?o:1-o))>>>8*(e?o:1-o)}function Tn(t,r,n,e){r<0&&(r=4294967295+r+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=r>>>8*(e?o:3-o)&255}function Bn(t,r,n,e,o,i){if(n+e>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Sn(t,r,n,e,o){return o||Bn(t,0,n,4),Vr(t,r,n,e,23,4),n+4}function Ln(t,r,n,e,o){return o||Bn(t,0,n,8),Vr(t,r,n,e,52,8),n+8}Qr.prototype.slice=function(t,r){var n,e=this.length;if((t=~~t)<0?(t+=e)<0&&(t=0):t>e&&(t=e),(r=void 0===r?e:~~r)<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t),Qr.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,r)).__proto__=Qr.prototype;else{var o=r-t;n=new Qr(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},Qr.prototype.readUIntLE=function(t,r,n){t|=0,r|=0,n||An(t,r,this.length);for(var e=this[t],o=1,i=0;++i<r&&(o*=256);)e+=this[t+i]*o;return e},Qr.prototype.readUIntBE=function(t,r,n){t|=0,r|=0,n||An(t,r,this.length);for(var e=this[t+--r],o=1;r>0&&(o*=256);)e+=this[t+--r]*o;return e},Qr.prototype.readUInt8=function(t,r){return r||An(t,1,this.length),this[t]},Qr.prototype.readUInt16LE=function(t,r){return r||An(t,2,this.length),this[t]|this[t+1]<<8},Qr.prototype.readUInt16BE=function(t,r){return r||An(t,2,this.length),this[t]<<8|this[t+1]},Qr.prototype.readUInt32LE=function(t,r){return r||An(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Qr.prototype.readUInt32BE=function(t,r){return r||An(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Qr.prototype.readIntLE=function(t,r,n){t|=0,r|=0,n||An(t,r,this.length);for(var e=this[t],o=1,i=0;++i<r&&(o*=256);)e+=this[t+i]*o;return e>=(o*=128)&&(e-=Math.pow(2,8*r)),e},Qr.prototype.readIntBE=function(t,r,n){t|=0,r|=0,n||An(t,r,this.length);for(var e=r,o=1,i=this[t+--e];e>0&&(o*=256);)i+=this[t+--e]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*r)),i},Qr.prototype.readInt8=function(t,r){return r||An(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Qr.prototype.readInt16LE=function(t,r){r||An(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},Qr.prototype.readInt16BE=function(t,r){r||An(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},Qr.prototype.readInt32LE=function(t,r){return r||An(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Qr.prototype.readInt32BE=function(t,r){return r||An(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Qr.prototype.readFloatLE=function(t,r){return r||An(t,4,this.length),Gr(this,t,!0,23,4)},Qr.prototype.readFloatBE=function(t,r){return r||An(t,4,this.length),Gr(this,t,!1,23,4)},Qr.prototype.readDoubleLE=function(t,r){return r||An(t,8,this.length),Gr(this,t,!0,52,8)},Qr.prototype.readDoubleBE=function(t,r){return r||An(t,8,this.length),Gr(this,t,!1,52,8)},Qr.prototype.writeUIntLE=function(t,r,n,e){(t=+t,r|=0,n|=0,e)||Pn(this,t,r,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[r]=255&t;++i<n&&(o*=256);)this[r+i]=t/o&255;return r+n},Qr.prototype.writeUIntBE=function(t,r,n,e){(t=+t,r|=0,n|=0,e)||Pn(this,t,r,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[r+o]=255&t;--o>=0&&(i*=256);)this[r+o]=t/i&255;return r+n},Qr.prototype.writeUInt8=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,1,255,0),Qr.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},Qr.prototype.writeUInt16LE=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,2,65535,0),Qr.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):Rn(this,t,r,!0),r+2},Qr.prototype.writeUInt16BE=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,2,65535,0),Qr.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):Rn(this,t,r,!1),r+2},Qr.prototype.writeUInt32LE=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,4,4294967295,0),Qr.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):Tn(this,t,r,!0),r+4},Qr.prototype.writeUInt32BE=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,4,4294967295,0),Qr.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):Tn(this,t,r,!1),r+4},Qr.prototype.writeIntLE=function(t,r,n,e){if(t=+t,r|=0,!e){var o=Math.pow(2,8*n-1);Pn(this,t,r,n,o-1,-o)}var i=0,u=1,a=0;for(this[r]=255&t;++i<n&&(u*=256);)t<0&&0===a&&0!==this[r+i-1]&&(a=1),this[r+i]=(t/u>>0)-a&255;return r+n},Qr.prototype.writeIntBE=function(t,r,n,e){if(t=+t,r|=0,!e){var o=Math.pow(2,8*n-1);Pn(this,t,r,n,o-1,-o)}var i=n-1,u=1,a=0;for(this[r+i]=255&t;--i>=0&&(u*=256);)t<0&&0===a&&0!==this[r+i+1]&&(a=1),this[r+i]=(t/u>>0)-a&255;return r+n},Qr.prototype.writeInt8=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,1,127,-128),Qr.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},Qr.prototype.writeInt16LE=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,2,32767,-32768),Qr.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):Rn(this,t,r,!0),r+2},Qr.prototype.writeInt16BE=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,2,32767,-32768),Qr.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):Rn(this,t,r,!1),r+2},Qr.prototype.writeInt32LE=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,4,2147483647,-2147483648),Qr.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):Tn(this,t,r,!0),r+4},Qr.prototype.writeInt32BE=function(t,r,n){return t=+t,r|=0,n||Pn(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Qr.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):Tn(this,t,r,!1),r+4},Qr.prototype.writeFloatLE=function(t,r,n){return Sn(this,t,r,!0,n)},Qr.prototype.writeFloatBE=function(t,r,n){return Sn(this,t,r,!1,n)},Qr.prototype.writeDoubleLE=function(t,r,n){return Ln(this,t,r,!0,n)},Qr.prototype.writeDoubleBE=function(t,r,n){return Ln(this,t,r,!1,n)},Qr.prototype.copy=function(t,r,n,e){if(n||(n=0),e||0===e||(e=this.length),r>=t.length&&(r=t.length),r||(r=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),t.length-r<e-n&&(e=t.length-r+n);var o,i=e-n;if(this===t&&n<r&&r<e)for(o=i-1;o>=0;--o)t[o+r]=this[o+n];else if(i<1e3||!Qr.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+r]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),r);return i},Qr.prototype.fill=function(t,r,n,e){if("string"==typeof t){if("string"==typeof r?(e=r,r=0,n=this.length):"string"==typeof n&&(e=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!Qr.isEncoding(e))throw new TypeError("Unknown encoding: "+e)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;var i;if(r>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=r;i<n;++i)this[i]=t;else{var u=en(t)?t:xn(new Qr(t,e).toString()),a=u.length;for(i=0;i<n-r;++i)this[i+r]=u[i%a]}return this};var Mn=/[^+\/0-9A-Za-z-_]/g;function On(t){return t<16?"0"+t.toString(16):t.toString(16)}function xn(t,r){var n;r=r||1/0;for(var e=t.length,o=null,i=[],u=0;u<e;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!o){if(n>56319){(r-=3)>-1&&i.push(239,191,189);continue}if(u+1===e){(r-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(r-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(r-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((r-=1)<0)break;i.push(n)}else if(n<2048){if((r-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function In(t){return function(t){var r,n,e,o,i,u;Dr||zr();var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[a-2]?2:"="===t[a-1]?1:0,u=new Yr(3*a/4-i),e=i>0?a-4:a;var f=0;for(r=0,n=0;r<e;r+=4,n+=3)o=Fr[t.charCodeAt(r)]<<18|Fr[t.charCodeAt(r+1)]<<12|Fr[t.charCodeAt(r+2)]<<6|Fr[t.charCodeAt(r+3)],u[f++]=o>>16&255,u[f++]=o>>8&255,u[f++]=255&o;return 2===i?(o=Fr[t.charCodeAt(r)]<<2|Fr[t.charCodeAt(r+1)]>>4,u[f++]=255&o):1===i&&(o=Fr[t.charCodeAt(r)]<<10|Fr[t.charCodeAt(r+1)]<<4|Fr[t.charCodeAt(r+2)]>>2,u[f++]=o>>8&255,u[f++]=255&o),u}(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(Mn,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Un(t,r,n,e){for(var o=0;o<e&&!(o+n>=r.length||o>=t.length);++o)r[o+n]=t[o];return o}function Cn(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var jn,Nn=Qr,kn=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];function Fn(t){if(!t)throw new Error('"version" cannot be null or undefined');if(1>t||40<t)throw new Error('"version" should be in range from 1 to 40');return 4*t+17}function Yn(t){return kn[t]}function Dn(t){for(var r=0;0!==t;)r++,t>>>=1;return r}function zn(){return void 0!==jn}function Wn(t){return jn(t)}var qn={bit:1},Gn={bit:0},Vn={bit:3},$n={bit:2};function Hn(t,r){if((n=t)&&void 0!==n.bit&&0<=n.bit&&4>n.bit)return t;var n;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return qn;case"m":case"medium":return Gn;case"q":case"quartile":return Vn;case"h":case"high":return $n;default:throw new Error("Unknown EC Level: ".concat(t))}}(t)}catch(t){return r}}function Jn(){this.buffer=[],this.length=0}function Zn(t){if(!t||1>t)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Nn(t*t),this.data.fill(0),this.reservedBit=new Nn(t*t),this.reservedBit.fill(0)}function Qn(t){for(var r=[],n=function(t){if(1===t)return[];for(var r=Math.floor(t/7)+2,n=Fn(t),e=145===n?26:2*Math.ceil((n-13)/(2*r-2)),o=[n-7],i=1;i<r-1;i++)o[i]=o[i-1]-e;return o.push(6),o.reverse()}(t),e=n.length,o=0;o<e;o++)for(var i=0;i<e;i++)(0!=o||0!=i)&&(0!=o||i!=e-1)&&(o!=e-1||0!=i)&&r.push([n[o],n[i]]);return r}Jn.prototype={get:function(t){var r=Math.floor(t/8);return 1==(1&this.buffer[r]>>>7-t%8)},put:function(t,r){for(var n=0;n<r;n++)this.putBit(1==(1&t>>>r-n-1))},getLengthInBits:function(){return this.length},putBit:function(t){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),t&&(this.buffer[r]|=128>>>this.length%8),this.length++}},Zn.prototype.set=function(t,r,n,e){var o=t*this.size+r;this.data[o]=n,e&&(this.reservedBit[o]=!0)},Zn.prototype.get=function(t,r){return this.data[t*this.size+r]},Zn.prototype.xor=function(t,r,n){this.data[t*this.size+r]^=n},Zn.prototype.isReserved=function(t,r){return this.reservedBit[t*this.size+r]};var Kn=7;!function(t,r){var n=(c.Object||{})[t]||Object[t],e={};e[t]=r(n),L(L.S+L.F*d(function(){n(1)}),"Object",e)}("keys",function(){return function(t){return J(ct(t))}});var Xn=c.Object.keys,te="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",re="["+te+"]",ne=RegExp("^"+re+re+"*"),ee=RegExp(re+re+"*$"),oe=function(t,r,n){var e={},o=d(function(){return!!te[t]()||"​"!="​"[t]()}),i=e[t]=o?r(ie):te[t];n&&(e[n]=i),L(L.P+L.F*o,"String",e)},ie=oe.trim=function(t,r){return t=String(a(t)),1&r&&(t=t.replace(ne,"")),2&r&&(t=t.replace(ee,"")),t},ue=oe,ae=s.parseInt,fe=ue.trim,se=/^[-+]?0[xX]/,ce=8!==ae(te+"08")||22!==ae(te+"0x16")?function(t,r){var n=fe(String(t),3);return ae(n,r>>>0||(se.test(n)?16:10))}:ae;L(L.G+L.F*(parseInt!=ce),{parseInt:ce});var he=c.parseInt,le={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},pe={N1:3,N2:3,N3:40,N4:10};function ge(t){return null!=(r=t)&&""!==r&&!isNaN(r)&&0<=r&&7>=r?he(t,10):void 0;var r}function de(t){for(var r=t.size,n=0,e=0,o=0,i=null,u=null,a=0;a<r;a++){e=o=0,i=u=null;for(var f,s=0;s<r;s++)(f=t.get(a,s))===i?e++:(5<=e&&(n+=pe.N1+(e-5)),i=f,e=1),(f=t.get(s,a))===u?o++:(5<=o&&(n+=pe.N1+(o-5)),u=f,o=1);5<=e&&(n+=pe.N1+(e-5)),5<=o&&(n+=pe.N1+(o-5))}return n}function ve(t){for(var r=t.size,n=0,e=0;e<r-1;e++)for(var o,i=0;i<r-1;i++)(4===(o=t.get(e,i)+t.get(e,i+1)+t.get(e+1,i)+t.get(e+1,i+1))||0===o)&&n++;return n*pe.N2}function ye(t){for(var r=t.size,n=0,e=0,o=0,i=0;i<r;i++){e=o=0;for(var u=0;u<r;u++)e=2047&e<<1|t.get(i,u),10<=u&&(1488===e||93===e)&&n++,o=2047&o<<1|t.get(u,i),10<=u&&(1488===o||93===o)&&n++}return n*pe.N3}function we(t){for(var r=0,n=t.data.length,e=0;e<n;e++)r+=t.data[e];return Math.abs(Math.ceil(100*r/n/5)-10)*pe.N4}function me(t,r,n){switch(t){case le.PATTERN000:return 0==(r+n)%2;case le.PATTERN001:return 0==r%2;case le.PATTERN010:return 0==n%3;case le.PATTERN011:return 0==(r+n)%3;case le.PATTERN100:return 0==(Math.floor(r/2)+Math.floor(n/3))%2;case le.PATTERN101:return 0==r*n%2+r*n%3;case le.PATTERN110:return 0==(r*n%2+r*n%3)%2;case le.PATTERN111:return 0==(r*n%3+(r+n)%2)%2;default:throw new Error("bad maskPattern:".concat(t))}}function be(t,r){for(var n=r.size,e=0;e<n;e++)for(var o=0;o<n;o++)r.isReserved(o,e)||r.xor(o,e,me(t,o,e))}var Ee,_e,Ae=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Pe=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];function Re(t,r){return r===qn?Pe[4*(t-1)+0]:r===Gn?Pe[4*(t-1)+1]:r===Vn?Pe[4*(t-1)+2]:r===$n?Pe[4*(t-1)+3]:void 0}function Te(t,r){return 0===t||0===r?0:Ee[_e[t]+_e[r]]}function Be(t,r){var n=new Nn(t.length+r.length-1);n.fill(0);for(var e=0;e<t.length;e++)for(var o=0;o<r.length;o++)n[e+o]^=Te(t[e],r[o]);return n}function Se(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}function Le(t){return!isNaN(t)&&1<=t&&40>=t}Nn.alloc?(Ee=Nn.alloc(512),_e=Nn.alloc(256)):(Ee=new Nn(512),_e=new Nn(256)),function(){for(var t=1,r=0;255>r;r++)Ee[r]=t,_e[t]=r,256&(t<<=1)&&(t^=285);for(r=255;512>r;r++)Ee[r]=Ee[r-255]}(),Se.prototype.initialize=function(t){this.degree=t,this.genPoly=function(t){for(var r=new Nn([1]),n=0;n<t;n++)r=Be(r,[1,(e=n,Ee[e])]);var e;return r}(this.degree)},Se.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var r=new Nn(this.degree);r.fill(0);var n=function(t,r){for(var n=new Nn(t);0<=n.length-r.length;){for(var e=n[0],o=0;o<r.length;o++)n[o]^=Te(r[o],e);for(var i=0;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n}(Nn.concat([t,r],t.length+this.degree),this.genPoly),e=this.degree-n.length;if(0<e){var o=new Nn(this.degree);return o.fill(0),n.copy(o,e),o}return n};var Me="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Me=Me.replace(/u/g,"\\u");var Oe="(?:(?![A-Z0-9 $%*+\\-./:]|".concat(Me,")(?:.|[\r\n]))+"),xe=new RegExp(Me,"g"),Ie=/[^A-Z0-9 $%*+\-.\/:]+/g,Ue=new RegExp(Oe,"g"),Ce=/[0-9]+/g,je=new RegExp("[A-Z $%*+\\-./:]+","g"),Ne=new RegExp("^".concat(Me,"$")),ke=/^[0-9]+$/,Fe=/^[A-Z0-9 $%*+\-.\/:]+$/;var Ye={id:"Numeric",bit:1,ccBits:[10,12,14]},De={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},ze={id:"Byte",bit:4,ccBits:[8,16,16]},We={id:"Kanji",bit:8,ccBits:[8,10,12]},qe={bit:-1};function Ge(t,r){if(!t.ccBits)throw new Error("Invalid mode: ".concat(t));if(!Le(r))throw new Error("Invalid version: ".concat(r));return 1<=r&&10>r?t.ccBits[0]:27>r?t.ccBits[1]:t.ccBits[2]}function Ve(t){return r=t,ke.test(r)?Ye:function(t){return Fe.test(t)}(t)?De:function(t){return Ne.test(t)}(t)?We:ze;var r}function $e(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")}function He(t,r){if((n=t)&&n.bit&&n.ccBits)return t;var n;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Ye;case"alphanumeric":return De;case"kanji":return We;case"byte":return ze;default:throw new Error("Unknown mode: ".concat(t))}}(t)}catch(t){return r}}var Je=7973,Ze=Dn(Je);function Qe(t,r){return Ge(t,r)+4}function Ke(t,r){var n=0;return t.forEach(function(t){var e=Qe(t.mode,r);n+=e+t.getBitsLength()}),n}function Xe(t,r,n){if(!Le(t))throw new Error("Invalid QR Code version");void 0===n&&(n=ze);var e=8*(Yn(t)-Re(t,r));if(n===qe)return e;var o=e-Qe(n,t);switch(n){case Ye:return Math.floor(o/10*3);case De:return Math.floor(o/11*2);case We:return Math.floor(o/13);case ze:default:return Math.floor(o/8)}}function to(t,n){var e,o=Hn(n,Gn);if(r(t)){if(1<t.length)return function(t,r){for(var n=1;40>=n;n++)if(Ke(t,n)<=Xe(n,r,qe))return n}(t,o);if(0===t.length)return 1;e=t[0]}else e=t;return function(t,r,n){for(var e=1;40>=e;e++)if(r<=Xe(e,n,t))return e}(e.mode,e.getLength(),o)}var ro=1335,no=21522,eo=Dn(ro);function oo(t){this.mode=Ye,this.data=t.toString()}oo.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},oo.prototype.getLength=function(){return this.data.length},oo.prototype.getBitsLength=function(){return oo.getBitsLength(this.data.length)},oo.prototype.write=function(t){var r,n,e;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),e=he(n,10),t.put(e,10);var o=this.data.length-r;0<o&&(n=this.data.substr(r),e=he(n,10),t.put(e,3*o+1))};var io=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function uo(t){this.mode=De,this.data=t}function ao(t){this.mode=ze,this.data=new Nn(t)}function fo(t){this.mode=We,this.data=t}function so(t){return unescape(encodeURIComponent(t)).length}function co(t,r,n){for(var e,o=[];null!==(e=t.exec(n));)o.push({data:e[0],index:e.index,mode:r,length:e[0].length});return o}function ho(t){var r,n,e=co(Ce,Ye,t),o=co(je,De,t);return zn()?(r=co(Ue,ze,t),n=co(xe,We,t)):(r=co(Ie,ze,t),n=[]),e.concat(o,r,n).sort(function(t,r){return t.index-r.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function lo(t,r){return r===Ye?oo.getBitsLength(t):r===De?uo.getBitsLength(t):r===We?fo.getBitsLength(t):r===ze?ao.getBitsLength(t):void 0}function po(t,r){var n,e=Ve(t);if((n=He(r,e))!==ze&&n.bit<e.bit)throw new Error('"'.concat(t,'"')+" cannot be encoded with mode ".concat($e(n),".\n Suggested mode is: ").concat($e(e)));return n!==We||zn()||(n=ze),n===Ye?new oo(t):n===De?new uo(t):n===We?new fo(t):n===ze?new ao(t):void 0}function go(t){return t.reduce(function(t,r){return"string"==typeof r?t.push(po(r,null)):r.data&&t.push(po(r.data,r.mode)),t},[])}function vo(t,r){for(var e=function(t,r){for(var n={},e={start:{}},o=["start"],i=0;i<t.length;i++){for(var u=t[i],a=[],f=0;f<u.length;f++){var s=u[f],c="".concat(i).concat(f);a.push(c),n[c]={node:s,lastCount:0},e[c]={};for(var h,l=0;l<o.length;l++)n[h=o[l]]&&n[h].node.mode===s.mode?(e[h][c]=lo(n[h].lastCount+s.length,s.mode)-lo(n[h].lastCount,s.mode),n[h].lastCount+=s.length):(n[h]&&(n[h].lastCount=s.length),e[h][c]=lo(s.length,s.mode)+4+Ge(s.mode,r))}o=a}for(l=0;l<o.length;l++)e[o[l]].end=0;return{map:e,table:n}}(function(t){for(var r,n=[],e=0;e<t.length;e++)switch(r=t[e],r.mode){case Ye:n.push([r,{data:r.data,mode:De,length:r.length},{data:r.data,mode:ze,length:r.length}]);break;case De:n.push([r,{data:r.data,mode:ze,length:r.length}]);break;case We:n.push([r,{data:r.data,mode:ze,length:so(r.data)}]);break;case ze:n.push([{data:r.data,mode:ze,length:so(r.data)}])}return n}(ho(t)),r),o=n.find_path(e.map,"start","end"),i=[],u=1;u<o.length-1;u++)i.push(e.table[o[u]].node);return go(function(t){return t.reduce(function(t,r){var n=0<=t.length-1?t[t.length-1]:null;return n&&n.mode===r.mode?(t[t.length-1].data+=r.data,t):(t.push(r),t)},[])}(i))}function yo(t,r){for(var n=t.size,e=function(t){var r=Fn(t);return[[0,0],[r-Kn,0],[0,r-Kn]]}(r),o=0;o<e.length;o++)for(var i=e[o][0],u=e[o][1],a=-1;7>=a;a++)if(!(-1>=i+a||n<=i+a))for(var f=-1;7>=f;f++)-1>=u+f||n<=u+f||(0<=a&&6>=a&&(0==f||6==f)||0<=f&&6>=f&&(0==a||6==a)||2<=a&&4>=a&&2<=f&&4>=f?t.set(i+a,u+f,!0,!0):t.set(i+a,u+f,!1,!0))}function wo(t,r){for(var n,e,o,i=t.size,u=function(t){if(!Le(t)||7>t)throw new Error("Invalid QR Code version");for(var r=t<<12;0<=Dn(r)-Ze;)r^=Je<<Dn(r)-Ze;return t<<12|r}(r),a=0;18>a;a++)n=Math.floor(a/3),e=a%3+i-8-3,o=1==(1&u>>a),t.set(n,e,o,!0),t.set(e,n,o,!0)}function mo(t,r,n){var e,o,i=t.size,u=function(t,r){for(var n=t.bit<<3|r,e=n<<10;0<=Dn(e)-eo;)e^=ro<<Dn(e)-eo;return(n<<10|e)^no}(r,n);for(e=0;15>e;e++)o=1==(1&u>>e),6>e?t.set(e,8,o,!0):8>e?t.set(e+1,8,o,!0):t.set(i-15+e,8,o,!0),8>e?t.set(8,i-e-1,o,!0):9>e?t.set(8,15-e-1+1,o,!0):t.set(8,15-e-1,o,!0);t.set(i-8,8,1,!0)}function bo(t,r,n){var e=new Jn;n.forEach(function(r){e.put(r.mode.bit,4),e.put(r.getLength(),Ge(r.mode,t)),r.write(e)});var o=8*(Yn(t)-Re(t,r));for(e.getLengthInBits()+4<=o&&e.put(0,4);0!=e.getLengthInBits()%8;)e.putBit(0);for(var i=(o-e.getLengthInBits())/8,u=0;u<i;u++)e.put(u%2?17:236,8);return function(t,r,n){for(var e,o=Yn(r),i=Re(r,n),u=function(t,r){return r===qn?Ae[4*(t-1)+0]:r===Gn?Ae[4*(t-1)+1]:r===Vn?Ae[4*(t-1)+2]:r===$n?Ae[4*(t-1)+3]:void 0}(r,n),a=Math.floor(o/u),f=Math.floor((o-i)/u),s=a-f,c=new Se(s),h=0,l=Array(u),p=Array(u),g=0,d=new Nn(t.buffer),v=0;v<u;v++)e=v<u-o%u?f:f+1,l[v]=d.slice(h,h+e),p[v]=c.encode(l[v]),h+=e,g=Math.max(g,e);var y,w,m=new Nn(o),b=0;for(y=0;y<g;y++)for(w=0;w<u;w++)y<l[w].length&&(m[b++]=l[w][y]);for(y=0;y<s;y++)for(w=0;w<u;w++)m[b++]=p[w][y];return m}(e,t,r)}function Eo(t,n,e,o){var i;if(r(t))i=go(t);else{if("string"!=typeof t)throw new Error("Invalid data");var u=n;u||(u=to(function(t){return go(ho(t))}(t),e));i=vo(t,u||40)}var a=to(i,e);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<a)throw new Error("".concat("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: ").concat(a,".\n"))}else n=a;var f=bo(n,e,i),s=new Zn(Fn(n));return yo(s,n),function(t){for(var r,n=t.size,e=8;e<n-8;e++)r=0==e%2,t.set(e,6,r,!0),t.set(6,e,r,!0)}(s),function(t,r){for(var n=Qn(r),e=0;e<n.length;e++)for(var o=n[e][0],i=n[e][1],u=-2;2>=u;u++)for(var a=-2;2>=a;a++)-2==u||2==u||-2==a||2==a||0==u&&0==a?t.set(o+u,i+a,!0,!0):t.set(o+u,i+a,!1,!0)}(s,n),mo(s,e,0),7<=n&&wo(s,n),function(t,r){for(var n=t.size,e=-1,o=n-1,i=7,u=0,a=n-1;0<a;a-=2)for(6==a&&a--;;){for(var f=0;2>f;f++)if(!t.isReserved(o,a-f)){var s=!1;u<r.length&&(s=1==(1&r[u]>>>i)),t.set(o,a-f,s),-1==--i&&(u++,i=7)}if(0>(o+=e)||n<=o){o-=e,e=-e;break}}}(s,f),isNaN(o)&&(o=function(t,r){for(var n=Xn(le).length,e=0,o=1/0,i=0;i<n;i++){r(i),be(i,t);var u=de(t)+ve(t)+ye(t)+we(t);be(i,t),u<o&&(o=u,e=i)}return e}(s,mo.bind(null,s,e))),be(o,s),mo(s,e,o),{modules:s,version:n,errorCorrectionLevel:e,maskPattern:o,segments:i}}function _o(t,r){if(void 0===t||""===t)throw new Error("No input text");var n,e,o,i,u=Gn;return void 0!==r&&(u=Hn(r.errorCorrectionLevel,Gn),n=Le(o=r.version)?he(o,10):i,e=ge(r.maskPattern),r.toSJISFunc&&function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');jn=t}(r.toSJISFunc)),Eo(t,n,u,e)}function Ao(t){if("number"==typeof t&&(t=t.toString()),"string"!=typeof t)throw new Error("Color should be defined as hex string");var r=t.slice().replace("#","").split("");if(3>r.length||5===r.length||8<r.length)throw new Error("Invalid hex color: ".concat(t));(3===r.length||4===r.length)&&(r=Array.prototype.concat.apply([],r.map(function(t){return[t,t]}))),6===r.length&&r.push("F","F");var n=he(r.join(""),16);return{r:255&n>>24,g:255&n>>16,b:255&n>>8,a:255&n,hex:"#".concat(r.slice(0,6).join(""))}}function Po(t){t||(t={}),t.color||(t.color={});var r=void 0===t.margin||null===t.margin||0>t.margin?4:t.margin,n=t.width&&21<=t.width?t.width:void 0,e=t.scale||4;return{width:n,scale:n?4:e,margin:r,color:{dark:Ao(t.color.dark||"#000000ff"),light:Ao(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}}function Ro(t,r){return r.width&&r.width>=t+2*r.margin?r.width/(t+2*r.margin):r.scale}function To(t,r){var n=t.a/255,e="".concat(r,'="').concat(t.hex,'"');return 1>n?"".concat(e," ").concat(r,'-opacity="').concat(n.toFixed(2).slice(1),'"'):e}function Bo(t,r,n){var e=t+r;return void 0!==n&&(e+=" ".concat(n)),e}uo.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},uo.prototype.getLength=function(){return this.data.length},uo.prototype.getBitsLength=function(){return uo.getBitsLength(this.data.length)},uo.prototype.write=function(t){var r;for(r=0;r+2<=this.data.length;r+=2){var n=45*io.indexOf(this.data[r]);n+=io.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(io.indexOf(this.data[r]),6)},ao.getBitsLength=function(t){return 8*t},ao.prototype.getLength=function(){return this.data.length},ao.prototype.getBitsLength=function(){return ao.getBitsLength(this.data.length)},ao.prototype.write=function(t){for(var r=0,n=this.data.length;r<n;r++)t.put(this.data[r],8)},fo.getBitsLength=function(t){return 13*t},fo.prototype.getLength=function(){return this.data.length},fo.prototype.getBitsLength=function(){return fo.getBitsLength(this.data.length)},fo.prototype.write=function(t){var r;for(r=0;r<this.data.length;r++){var n=Wn(this.data[r]);if(33088<=n&&40956>=n)n-=33088;else{if(!(57408<=n&&60351>=n))throw new Error("Invalid SJIS character: ".concat(this.data[r],"\n")+"Make sure your charset is UTF-8");n-=49472}n=192*(255&n>>>8)+(255&n),t.put(n,13)}};var So=Object.freeze({render:function(t,r,n){var e=Po(r),o=t.modules.size,i=t.modules.data,u=o+2*e.margin,a=e.color.light.a?"<path ".concat(To(e.color.light,"fill"),' d="M0 0h').concat(u,"v").concat(u,'H0z"/>'):"",f="<path ".concat(To(e.color.dark,"stroke"),' d="').concat(function(t,r,n){for(var e="",o=0,i=!1,u=0,a=0;a<t.length;a++){var f=Math.floor(a%r),s=Math.floor(a/r);f||i||(i=!0),t[a]?(u++,!(0<a&&0<f&&t[a-1])&&(e+=i?Bo("M",f+n,.5+s+n):Bo("m",o,0),o=0,i=!1),!(f+1<r&&t[a+1])&&(e+=Bo("h",u),u=0)):o++}return e}(i,o,e.margin),'"/>'),s="".concat('viewBox="0 0 ').concat(u," ").concat(u,'"'),c=e.width?'width="'.concat(e.width,'" height="').concat(e.width,'" '):"",h='<svg xmlns="http://www.w3.org/2000/svg" '.concat(c).concat(s,' shape-rendering="crispEdges">').concat(a).concat(f,"</svg>\n");return"function"==typeof n&&n(null,h),h}}),Lo={WW:" ",WB:"▄",BB:"█",BW:"▀"},Mo={BB:" ",BW:"▄",WW:"█",WB:"▀"};function Oo(t,r,n){return t&&r?n.BB:t&&!r?n.BW:!t&&r?n.WB:n.WW}var xo=Object.freeze({render:function(t,r,n){var e=Po(r),o=Lo;("#ffffff"===e.color.dark.hex||"#000000"===e.color.light.hex)&&(o=Mo);var i=t.modules.size,u=t.modules.data,a="",f=Array(i+2*e.margin+1).join(o.WW);f=Array(e.margin/2+1).join("".concat(f,"\n"));var s=Array(e.margin+1).join(o.WW);a+=f;for(var c=0;c<i;c+=2){a+=s;for(var h=0;h<i;h++)a+=Oo(u[c*i+h],u[(c+1)*i+h],o);a+="".concat(s,"\n")}return a+=f.slice(0,-1),"function"==typeof n&&n(null,a),a}}),Io=e.PNG;function Uo(t,r){var n=Po(r),e=n.rendererOpts,o=function(t,r){var n=Ro(t,r);return Math.floor((t+2*r.margin)*n)}(t.modules.size,n);e.width=o,e.height=o;var i=new Io(e);return function(t,r,n){for(var e=r.modules.size,o=r.modules.data,i=Ro(e,n),u=Math.floor((e+2*n.margin)*i),a=n.margin*i,f=[n.color.light,n.color.dark],s=0;s<u;s++)for(var c=0;c<u;c++){var h=4*(s*u+c),l=n.color.light;s>=a&&c>=a&&s<u-a&&c<u-a&&(l=f[o[Math.floor((s-a)/i)*e+Math.floor((c-a)/i)]?1:0]),t[h++]=l.r,t[h++]=l.g,t[h++]=l.b,t[h]=l.a}}(i.data,t,n),i}function Co(t,r,n){void 0===n&&(n=r,r=void 0);var e=Uo(t,r),o=[];e.on("error",n),e.on("data",function(t){o.push(t)}),e.on("end",function(){n(null,Qr.concat(o))}),e.pack()}var jo=Object.freeze({render:Uo,renderToDataURL:function(t,r,n){void 0===n&&(n=r,r=void 0),Co(t,r,function(t,r){t&&n(t);var e="data:image/png;base64,";e+=r.toString("base64"),n(null,e)})},renderToBuffer:Co,renderToFileStream:function(t,r,n){Uo(r,n).pack().pipe(t)}});function No(t,r,n){if(void 0===t)throw new Error("String required as first argument");if(void 0===n&&(n=r,r={}),"function"!=typeof n){if("function"!=typeof jr||!jr.prototype||!jr.prototype.then)throw new Error("Callback required as last argument");r=n||{},n=null}return{opts:r,cb:n}}function ko(t){switch(t){case"svg":return So;case"txt":case"utf8":return xo;case"png":case"image/png":default:return jo}}function Fo(t,r,n){if(!n.cb)return new jr(function(e,o){try{var i=_o(r,n.opts);return t(i,n.opts,function(t,r){return t?o(t):e(r)})}catch(t){o(t)}});try{var e=_o(r,n.opts);return t(e,n.opts,n.cb)}catch(t){n.cb(t)}}var Yo=_o;t.create=Yo,t.getSvg=function(t,r,n){var e=No(t,r,n);return Fo(ko("svg").render,t,e)},t.getSvgDataURL=function(t,r,n){var e=No(t,r,function(t,r){n(t,"data:image/svg+xml;utf8,".concat(encodeURIComponent(r)))});return Fo(ko("svg").render,t,e)},t.toBuffer=function(t,r,n){var e=No(t,r,n);return Fo(ko(e.opts.type).renderToBuffer,t,e)},t.toDataURL=function(t,r,n){var e=No(t,r,n);return Fo(ko(e.opts.type).renderToDataURL,t,e)},t.toString=function(t,r,n){var e=No(t,r,n);return Fo(function(t){switch(t){case"svg":return So;case"utf8":default:return xo}}(e.opts.type).render,t,e)},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=cnf-qrcode.common.js.map
